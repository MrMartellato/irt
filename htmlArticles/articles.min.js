/*!
 * PhoneView for HTML Reader 4.3.49
 */

/*
 RequireJS 2.1.9 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/

/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */

/*! jQuery v3.4.1 | (c) JS Foundation and other contributors | jquery.org/license */

/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */

/*
CryptoJS v3.1.2
code.google.com/p/crypto-js
(c) 2009-2013 by Jeff Mott. All rights reserved.
code.google.com/p/crypto-js/wiki/License
*/

var requirejs,require,define;!function(Z){function H(e){return"[object Function]"===L.call(e)}function I(e){return"[object Array]"===L.call(e)}function y(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function M(e,t){if(e){var n;for(n=e.length-1;-1<n&&(!e[n]||!t(e[n],n,e));n-=1);}}function t(e,t){return ga.call(e,t)}function l(e,n){return t(e,n)&&e[n]}function F(e,n){for(var i in e)if(t(e,i)&&n(e[i],i))break}function Q(e,n,i,r){return n&&F(n,function(n,o){!i&&t(e,o)||(r&&"string"!=typeof n?(e[o]||(e[o]={}),Q(e[o],n,i,r)):e[o]=n)}),e}function u(e,t){return function(){return t.apply(e,arguments)}}function aa(e){throw e}function ba(e){if(!e)return e;var t=Z;return y(e.split("."),function(e){t=t[e]}),t}function A(e,t,n,i){return t=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e),t.requireType=e,t.requireModules=i,n&&(t.originalError=n),t}function ha(e){function n(e,t,n){var i,r,o,s,a,u,c,d=t&&t.split("/");i=d;var f=S.map,p=f&&f["*"];if(e&&"."===e.charAt(0))if(t){for(i=l(S.pkgs,t)?d=[t]:d.slice(0,d.length-1),t=e=i.concat(e.split("/")),i=0;t[i];i+=1)if("."===(r=t[i]))t.splice(i,1),i-=1;else if(".."===r){if(1===i&&(".."===t[2]||".."===t[0]))break;0<i&&(t.splice(i-1,2),i-=2)}i=l(S.pkgs,t=e[0]),e=e.join("/"),i&&e===t+"/"+i.main&&(e=t)}else 0===e.indexOf("./")&&(e=e.substring(2));if(n&&f&&(d||p)){for(t=e.split("/"),i=t.length;0<i;i-=1){if(o=t.slice(0,i).join("/"),d)for(r=d.length;0<r;r-=1)if((n=l(f,d.slice(0,r).join("/")))&&(n=l(n,o))){s=n,a=i;break}if(s)break;!u&&p&&l(p,o)&&(u=l(p,o),c=i)}!s&&u&&(s=u,a=c),s&&(t.splice(0,a,s),e=t.join("/"))}return e}function i(e){z&&y(document.getElementsByTagName("script"),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===x.contextName)return t.parentNode.removeChild(t),!0})}function r(e){var t=l(S.paths,e);if(t&&I(t)&&1<t.length)return t.shift(),x.require.undef(e),x.require([e]),!0}function o(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e,t,i,r){var s,a,u=null,c=t?t.name:null,d=e,f=!0,p="";return e||(f=!1,e="_@r"+(B+=1)),e=o(e),u=e[0],e=e[1],u&&(u=n(u,c,r),a=l(N,u)),e&&(u?p=a&&a.normalize?a.normalize(e,function(e){return n(e,c,r)}):n(e,c,r):(p=n(e,c,r),e=o(p),u=e[0],p=e[1],i=!0,s=x.nameToUrl(p))),i=!u||a||i?"":"_unnormalized"+(U+=1),{prefix:u,name:p,parentMap:t,unnormalized:!!i,url:s,originalName:d,isDefine:f,id:(u?u+"!"+p:p)+i}}function a(e){var t=e.id,n=l(L,t);return n||(n=L[t]=new x.Module(e)),n}function c(e,n,i){var r=e.id,o=l(L,r);!t(N,r)||o&&!o.defineEmitComplete?(o=a(e),o.error&&"error"===n?i(o.error):o.on(n,i)):"defined"===n&&i(N[r])}function d(e,t){var n=e.requireModules,i=!1;t?t(e):(y(n,function(t){(t=l(L,t))&&(t.error=e,t.events.error&&(i=!0,t.emit("error",e)))}),i||j.onError(e))}function f(){R.length&&(ia.apply(D,[D.length-1,0].concat(R)),R=[])}function p(e){delete L[e],delete C[e]}function h(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,y(e.depMaps,function(i,r){var o=i.id,s=l(L,o);s&&!e.depMatched[r]&&!n[o]&&(l(t,o)?(e.defineDep(r,N[o]),e.check()):h(s,t,n))}),n[i]=!0)}function g(){var e,t,n,o,s=(n=1e3*S.waitSeconds)&&x.startTime+n<(new Date).getTime(),a=[],u=[],c=!1,l=!0;if(!w){if(w=!0,F(C,function(n){if(e=n.map,t=e.id,n.enabled&&(e.isDefine||u.push(n),!n.error))if(!n.inited&&s)r(t)?c=o=!0:(a.push(t),i(t));else if(!n.inited&&n.fetched&&e.isDefine&&(c=!0,!e.prefix))return l=!1}),s&&a.length)return n=A("timeout","Load timeout for modules: "+a,null,a),n.contextName=x.contextName,d(n);l&&y(u,function(e){h(e,{},{})}),s&&!o||!c||!z&&!da||k||(k=setTimeout(function(){k=0,g()},50)),w=!1}}function m(e){t(N,e[0])||a(s(e[0],null,!0)).init(e[1],e[2])}function v(e){var e=e.currentTarget||e.srcElement,t=x.onScriptLoad;return e.detachEvent&&!W?e.detachEvent("onreadystatechange",t):e.removeEventListener("load",t,!1),t=x.onScriptError,(!e.detachEvent||W)&&e.removeEventListener("error",t,!1),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function b(){var e;for(f();D.length;){if(e=D.shift(),null===e[0])return d(A("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));m(e)}}var w,T,x,E,k,S={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},L={},C={},_={},D=[],N={},M={},B=1,U=1;return E={require:function(e){return e.require?e.require:e.require=x.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?e.exports:e.exports=N[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){var t=l(S.pkgs,e.map.id);return(t?l(S.config,e.map.id+"/"+t.main):l(S.config,e.map.id))||{}},exports:N[e.map.id]}}},T=function(e){this.events=l(_,e.id)||{},this.map=e,this.shim=l(S.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},T.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=u(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,x.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();x.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;M[e]||(M[e]=!0,x.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id;t=this.depExports;var i=this.exports,r=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(H(r)){if(this.events.error&&this.map.isDefine||j.onError!==aa)try{i=x.execCb(n,r,t,i)}catch(t){e=t}else i=x.execCb(n,r,t,i);if(this.map.isDefine&&((t=this.module)&&void 0!==t.exports&&t.exports!==this.exports?i=t.exports:void 0===i&&this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",d(this.error=e)}else i=r;this.exports=i,this.map.isDefine&&!this.ignore&&(N[n]=i,j.onResourceLoad)&&j.onResourceLoad(x,this.map,this.depMaps),p(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,i=e.id,r=s(e.prefix);this.depMaps.push(r),c(r,"defined",u(this,function(r){var o,f;f=this.map.name;var h=this.map.parentMap?this.map.parentMap.name:null,g=x.makeRequire(e.parentMap,{enableBuildCallback:!0});this.map.unnormalized?(r.normalize&&(f=r.normalize(f,function(e){return n(e,h,!0)})||""),r=s(e.prefix+"!"+f,this.map.parentMap),c(r,"defined",u(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),(f=l(L,r.id))&&(this.depMaps.push(r),this.events.error&&f.on("error",u(this,function(e){this.emit("error",e)})),f.enable())):(o=u(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),o.error=u(this,function(e){this.inited=!0,this.error=e,e.requireModules=[i],F(L,function(e){0===e.map.id.indexOf(i+"_unnormalized")&&p(e.map.id)}),d(e)}),o.fromText=u(this,function(n,r){var u=e.name,c=s(u),l=O;r&&(n=r),l&&(O=!1),a(c),t(S.config,i)&&(S.config[u]=S.config[i]);try{j.exec(n)}catch(e){return d(A("fromtexteval","fromText eval for "+i+" failed: "+e,e,[i]))}l&&(O=!0),this.depMaps.push(c),x.completeLoad(u),g([u],o)}),r.load(e.name,g,o,S))})),x.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){C[this.map.id]=this,this.enabling=this.enabled=!0,y(this.depMaps,u(this,function(e,n){var i,r;if("string"==typeof e){if(e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[n]=e,i=l(E,e.id))return void(this.depExports[n]=i(this));this.depCount+=1,c(e,"defined",u(this,function(e){this.defineDep(n,e),this.check()})),this.errback&&c(e,"error",u(this,this.errback))}i=e.id,r=L[i],!t(E,i)&&r&&!r.enabled&&x.enable(e,this)})),F(this.pluginMaps,u(this,function(e){var t=l(L,e.id);t&&!t.enabled&&x.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){y(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},x={config:S,contextName:e,registry:L,defined:N,urlFetched:M,defQueue:D,Module:T,makeModuleMap:s,nextTick:j.nextTick,onError:d,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=S.pkgs,n=S.shim,i={paths:!0,config:!0,map:!0};F(e,function(e,t){i[t]?"map"===t?(S.map||(S.map={}),Q(S[t],e,!0,!0)):Q(S[t],e,!0):S[t]=e}),e.shim&&(F(e.shim,function(e,t){I(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=x.makeShimExports(e)),n[t]=e}),S.shim=n),e.packages&&(y(e.packages,function(e){e="string"==typeof e?{name:e}:e,t[e.name]={name:e.name,location:e.location||e.name,main:(e.main||"main").replace(ja,"").replace(ea,"")}}),S.pkgs=t),F(L,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=s(t))}),(e.deps||e.callback)&&x.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(Z,arguments)),t||e.exports&&ba(e.exports)}},makeRequire:function(r,o){function u(n,i,c){var l,f;return o.enableBuildCallback&&i&&H(i)&&(i.__requireJsBuild=!0),"string"==typeof n?H(i)?d(A("requireargs","Invalid require call"),c):r&&t(E,n)?E[n](L[r.id]):j.get?j.get(x,n,r,u):(l=s(n,r,!1,!0),l=l.id,t(N,l)?N[l]:d(A("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(r?"":". Use require([])")))):(b(),x.nextTick(function(){b(),f=a(s(null,r)),f.skipMap=o.skipMap,f.init(n,i,c,{enabled:!0}),g()}),u)}return o=o||{},Q(u,{isBrowser:z,toUrl:function(e){var t,i=e.lastIndexOf("."),o=e.split("/")[0];return-1!==i&&("."!==o&&".."!==o||1<i)&&(t=e.substring(i,e.length),e=e.substring(0,i)),x.nameToUrl(n(e,r&&r.id,!0),t,!0)},defined:function(e){return t(N,s(e,r,!1,!0).id)},specified:function(e){return e=s(e,r,!1,!0).id,t(N,e)||t(L,e)}}),r||(u.undef=function(e){f();var t=s(e,r,!0),n=l(L,e);i(e),delete N[e],delete M[t.url],delete _[e],n&&(n.events.defined&&(_[e]=n.events),p(e))}),u},enable:function(e){l(L,e.id)&&a(e).enable()},completeLoad:function(e){var n,i,o=l(S.shim,e)||{},s=o.exports;for(f();D.length;){if(i=D.shift(),null===i[0]){if(i[0]=e,n)break;n=!0}else i[0]===e&&(n=!0);m(i)}if(i=l(L,e),!n&&!t(N,e)&&i&&!i.inited){if(S.enforceDefine&&(!s||!ba(s)))return r(e)?void 0:d(A("nodefine","No define call for "+e,null,[e]));m([e,o.deps||[],o.exportsFn])}g()},nameToUrl:function(e,t,n){var i,r,o,s,a,u;if(j.jsExtRegExp.test(e))s=e+(t||"");else{for(i=S.paths,r=S.pkgs,s=e.split("/"),a=s.length;0<a;a-=1){if(u=s.slice(0,a).join("/"),o=l(r,u),u=l(i,u)){I(u)&&(u=u[0]),s.splice(0,a,u);break}if(o){e=e===o.name?o.location+"/"+o.main:o.location,s.splice(0,a,e);break}}s=s.join("/"),s+=t||(/^data\:|\?/.test(s)||n?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":S.baseUrl)+s}return S.urlArgs?s+(-1===s.indexOf("?")?"?":"&")+S.urlArgs:s},load:function(e,t){j.load(x,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){("load"===e.type||ka.test((e.currentTarget||e.srcElement).readyState))&&(P=null,e=v(e),x.completeLoad(e.id))},onScriptError:function(e){var t=v(e);if(!r(t.id))return d(A("scripterror","Script error for: "+t.id,e,[t.id]))}},x.require=x.makeRequire(),x}var j,w,x,C,J,D,P,K,q,fa,la=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,ma=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,ea=/\.js$/,ja=/^\.\//;w=Object.prototype;var L=w.toString,ga=w.hasOwnProperty,ia=Array.prototype.splice,z=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),da=!z&&"undefined"!=typeof importScripts,ka=z&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,W="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),E={},s={},R=[],O=!1;if(void 0===define){if(void 0!==requirejs){if(H(requirejs))return;s=requirejs,requirejs=void 0}void 0!==require&&!H(require)&&(s=require,require=void 0),j=requirejs=function(e,t,n,i){var r,o="_";return!I(e)&&"string"!=typeof e&&(r=e,I(t)?(e=t,t=n,n=i):e=[]),r&&r.context&&(o=r.context),(i=l(E,o))||(i=E[o]=j.s.newContext(o)),r&&i.configure(r),i.require(e,t,n)},j.config=function(e){return j(e)},j.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=j),j.version="2.1.9",j.jsExtRegExp=/^\/|:|\?|\.js$/,j.isBrowser=z,w=j.s={contexts:E,newContext:ha},j({}),y(["toUrl","undef","defined","specified"],function(e){j[e]=function(){var t=E._;return t.require[e].apply(t,arguments)}}),z&&(x=w.head=document.getElementsByTagName("head")[0],C=document.getElementsByTagName("base")[0])&&(x=w.head=C.parentNode),j.onError=aa,j.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},j.load=function(e,t,n){var i=e&&e.config||{};if(z)return i=j.createNode(i,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&0>i.attachEvent.toString().indexOf("[native code")||W?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(O=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,K=i,C?x.insertBefore(i,C):x.appendChild(i),K=null,i;if(da)try{importScripts(n),e.completeLoad(t)}catch(i){e.onError(A("importscripts","importScripts failed for "+t+" at "+n,i,[t]))}},z&&!s.skipDataMain&&M(document.getElementsByTagName("script"),function(e){if(x||(x=e.parentNode),J=e.getAttribute("data-main"))return q=J,s.baseUrl||(D=q.split("/"),q=D.pop(),fa=D.length?D.join("/")+"/":"./",s.baseUrl=fa),q=q.replace(ea,""),j.jsExtRegExp.test(q)&&(q=J),s.deps=s.deps?s.deps.concat(q):[q],!0}),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),I(t)||(n=t,t=null),!t&&H(n)&&(t=[],n.length&&(n.toString().replace(la,"").replace(ma,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),O&&((i=K)||(P&&"interactive"===P.readyState||M(document.getElementsByTagName("script"),function(e){if("interactive"===e.readyState)return P=e}),i=P),i&&(e||(e=i.getAttribute("data-requiremodule")),r=E[i.getAttribute("data-requirecontext")])),(r?r.defQueue:R).push([e,t,n])},define.amd={jQuery:!0},j.exec=function(b){return eval(b)},j(s)}}(this),define("../../lib/require.js",function(){}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(t,n):e[t]=n()}(this,"bowser",function(){function e(e){function t(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}var n,i=t(/(ipod|iphone|ipad)/i).toLowerCase(),r=/like android/i.test(e),o=!r&&/android/i.test(e),a=/nexus\s*[0-6]\s*/i.test(e),u=!a&&/nexus\s*[0-9]+/i.test(e),c=/CrOS/.test(e),l=/silk/i.test(e),d=/sailfish/i.test(e),f=/tizen/i.test(e),p=/(web|hpw)os/i.test(e),h=/windows phone/i.test(e),g=(/SamsungBrowser/i.test(e),!h&&/windows/i.test(e)),m=!i&&!l&&/macintosh/i.test(e),v=!o&&!d&&!f&&!p&&/linux/i.test(e),y=t(/edge\/(\d+(\.\d+)?)/i),b=t(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(e),T=!w&&/[^-]mobi/i.test(e),x=/xbox/i.test(e);/opera/i.test(e)?n={name:"Opera",opera:s,version:b||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(e)?n={name:"Opera",opera:s,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||b}:/SamsungBrowser/i.test(e)?n={name:"Samsung Internet for Android",samsungBrowser:s,version:b||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?n={name:"Opera Coast",coast:s,version:b||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?n={name:"Yandex Browser",yandexbrowser:s,version:b||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?n={name:"UC Browser",ucbrowser:s,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?n={name:"Maxthon",maxthon:s,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?n={name:"Epiphany",epiphany:s,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?n={name:"Puffin",puffin:s,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?n={name:"Sleipnir",sleipnir:s,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?n={name:"K-Meleon",kMeleon:s,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:h?(n={name:"Windows Phone",windowsphone:s},y?(n.msedge=s,n.version=y):(n.msie=s,n.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?n={name:"Internet Explorer",msie:s,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?n={name:"Chrome",chromeos:s,chromeBook:s,chrome:s,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?n={name:"Microsoft Edge",msedge:s,version:y}:/vivaldi/i.test(e)?n={name:"Vivaldi",vivaldi:s,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||b}:d?n={name:"Sailfish",sailfish:s,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?n={name:"SeaMonkey",seamonkey:s,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(n={name:"Firefox",firefox:s,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(n.firefoxos=s)):l?n={name:"Amazon Silk",silk:s,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?n={name:"PhantomJS",phantom:s,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?n={name:"SlimerJS",slimer:s,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?n={name:"BlackBerry",blackberry:s,version:b||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:p?(n={name:"WebOS",webos:s,version:b||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(n.touchpad=s)):/bada/i.test(e)?n={name:"Bada",bada:s,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:f?n={name:"Tizen",tizen:s,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}:/qupzilla/i.test(e)?n={name:"QupZilla",qupzilla:s,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||b}:/chromium/i.test(e)?n={name:"Chromium",chromium:s,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||b}:/chrome|crios|crmo/i.test(e)?n={name:"Chrome",chrome:s,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:o?n={name:"Android",version:b}:/safari|applewebkit/i.test(e)?(n={name:"Safari",safari:s},b&&(n.version=b)):i?(n={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},b&&(n.version=b)):n=/googlebot/i.test(e)?{name:"Googlebot",googlebot:s,version:t(/googlebot\/(\d+(\.\d+))/i)||b}:{name:t(/^(.*)\/(.*) /),version:function(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}(/^(.*)\/(.*) /)},!n.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(n.name=n.name||"Blink",n.blink=s):(n.name=n.name||"Webkit",n.webkit=s),!n.version&&b&&(n.version=b)):!n.opera&&/gecko\//i.test(e)&&(n.name=n.name||"Gecko",n.gecko=s,n.version=n.version||t(/gecko\/(\d+(\.\d+)?)/i)),n.windowsphone||n.msedge||!o&&!n.silk?n.windowsphone||n.msedge||!i?m?n.mac=s:x?n.xbox=s:g?n.windows=s:v&&(n.linux=s):(n[i]=s,n.ios=s):n.android=s;var E="";n.windowsphone?E=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i?(E=t(/os (\d+([_\s]\d+)*) like mac os x/i),E=E.replace(/[_\s]/g,".")):o?E=t(/android[ \/-](\d+(\.\d+)*)/i):n.webos?E=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):n.blackberry?E=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):n.bada?E=t(/bada\/(\d+(\.\d+)*)/i):n.tizen&&(E=t(/tizen[\/\s](\d+(\.\d+)*)/i)),E&&(n.osversion=E);var A=E.split(".")[0];return w||u||"ipad"==i||o&&(3==A||A>=4&&!T)||n.silk?n.tablet=s:(T||"iphone"==i||"ipod"==i||o||a||n.blackberry||n.webos||n.bada)&&(n.mobile=s),n.msedge||n.msie&&n.version>=10||n.yandexbrowser&&n.version>=15||n.vivaldi&&n.version>=1||n.chrome&&n.version>=20||n.samsungBrowser&&n.version>=4||n.firefox&&n.version>=20||n.safari&&n.version>=6||n.opera&&n.version>=10||n.ios&&n.osversion&&n.osversion.split(".")[0]>=6||n.blackberry&&n.version>=10.1||n.chromium&&n.version>=20?n.a=s:n.msie&&n.version<10||n.chrome&&n.version<20||n.firefox&&n.version<20||n.safari&&n.version<6||n.opera&&n.version<10||n.ios&&n.osversion&&n.osversion.split(".")[0]<6||n.chromium&&n.version<20?n.c=s:n.x=s,n}function t(e){return e.split(".").length}function n(e,t){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)i.push(t(e[n]));return i}function i(e){for(var i=Math.max(t(e[0]),t(e[1])),r=n(e,function(e){var r=i-t(e);return e+=new Array(r+1).join(".0"),n(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--i>=0;){if(r[0][i]>r[1][i])return 1;if(r[0][i]!==r[1][i])return-1;if(0===i)return 0}}function r(t,n,r){var o=a;"string"==typeof n&&(r=n,n=void 0),void 0===n&&(n=!1),r&&(o=e(r));var s=""+o.version;for(var u in t)if(t.hasOwnProperty(u)&&o[u]){if("string"!=typeof t[u])throw new Error("Browser version in the minVersion map should be a string: "+u+": "+String(t));return i([s,t[u]])<0}return n}function o(e,t,n){return!r(e,t,n)}var s=!0,a=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return a.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in a)return!0}return!1},a.isUnsupportedBrowser=r,a.compareVersions=i,a.check=o,a._detect=e,a}),define("bowser",function(){}),define("shared/constants",[],function(){return{toolbarIconBasePath:"./resources/artwork/",toolbarIconFileExtension:".png",toolbarIconHighResPrefix:"high_",baseResourcesFolder:"resources/",baseRequiredFolder:"required/",maxYuduBookFetchAttempts:3,messageTypes:{failure:"yudu_failure",success:"yudu_success",default:"yudu_default"},baseThumbnailFolder:"thumbnails/",shareSiteTimeout:3e3,brandingConfigFiles:{toolbar:"./resources/toolbar/toolbarConfig.json",toolbarPhoneview:"./resources/toolbarPhoneview/toolbarPhoneviewConfig.json",thumbnails:"./resources/thumbnails/thumbnailsConfig.json",drawingToolbars:"./resources/drawingToolbars/drawingToolbarsConfig.json",downloadPdfCustomSelectionToolbar:"./resources/downloadPdfCustomSelectionToolbar/downloadPdfCustomSelectionToolbarConfig.json",loading:"./resources/loading/loadingConfig.json"}}}),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t,n){var i,r,o=(n=n||J).createElement("script");if(o.text=e,t)for(i in fe)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function i(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?re[oe.call(e)]||"object":typeof e}function r(e){var t=!!e&&"length"in e&&e.length,n=i(e);return!le(e)&&!de(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function o(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function s(e,t,n){return le(t)?he.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?he.grep(e,function(e){return e===t!==n}):"string"!=typeof t?he.grep(e,function(e){return-1<ie.call(t,e)!==n}):he.filter(t,e,n)}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){return e}function c(e){throw e}function l(e,t,n,i){var r;try{e&&le(r=e.promise)?r.call(e).done(t).fail(n):e&&le(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}function d(){J.removeEventListener("DOMContentLoaded",d),e.removeEventListener("load",d),he.ready()}function f(e,t){return t.toUpperCase()}function p(e){return e.replace(Ie,"ms-").replace(_e,f)}function h(){this.expando=he.expando+h.uid++}function g(e,t,n){var i,r;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Me,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:Ne.test(r)?JSON.parse(r):r)}catch(e){}Re.set(e,t,n)}else n=void 0;return n}function m(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return he.css(e,t,"")},u=a(),c=n&&n[3]||(he.cssNumber[t]?"":"px"),l=e.nodeType&&(he.cssNumber[t]||"px"!==c&&+u)&&Be.exec(he.css(e,t));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;s--;)he.style(e,t,l+c),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),l/=o;l*=2,he.style(e,t,l+c),n=n||[]}return n&&(l=+l||+u||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=l,i.end=r)),r}function v(e,t){for(var n,i,r,o,s,a,u,c=[],l=0,d=e.length;l<d;l++)(i=e[l]).style&&(n=i.style.display,t?("none"===n&&(c[l]=De.get(i,"display")||null,c[l]||(i.style.display="")),""===i.style.display&&He(i)&&(c[l]=(u=s=o=void 0,s=(r=i).ownerDocument,a=r.nodeName,(u=ze[a])||(o=s.body.appendChild(s.createElement(a)),u=he.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ze[a]=u)))):"none"!==n&&(c[l]="none",De.set(i,"display",n)));for(l=0;l<d;l++)null!=c[l]&&(e[l].style.display=c[l]);return e}function y(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&o(e,t)?he.merge([e],n):n}function b(e,t){for(var n=0,i=e.length;n<i;n++)De.set(e[n],"globalEval",!t||De.get(t[n],"globalEval"))}function w(e,t,n,r,o){for(var s,a,u,c,l,d,f=t.createDocumentFragment(),p=[],h=0,g=e.length;h<g;h++)if((s=e[h])||0===s)if("object"===i(s))he.merge(p,s.nodeType?[s]:s);else if(Qe.test(s)){for(a=a||f.appendChild(t.createElement("div")),u=(Ge.exec(s)||["",""])[1].toLowerCase(),c=Ke[u]||Ke._default,a.innerHTML=c[1]+he.htmlPrefilter(s)+c[2],d=c[0];d--;)a=a.lastChild;he.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(s));for(f.textContent="",h=0;s=p[h++];)if(r&&-1<he.inArray(s,r))o&&o.push(s);else if(l=qe(s),a=y(f.appendChild(s),"script"),l&&b(a),n)for(d=0;s=a[d++];)Xe.test(s.type||"")&&n.push(s);return f}function T(){return!0}function x(){return!1}function E(e,t){return e===function(){try{return J.activeElement}catch(e){}}()==("focus"===t)}function A(e,t,n,i,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)A(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=x;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return he().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=he.guid++)),e.each(function(){he.event.add(this,t,r,i,n)})}function k(e,t,n){n?(De.set(e,t,!1),he.event.add(e,t,{namespace:!1,handler:function(e){var i,r,o=De.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(he.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=ee.call(arguments),De.set(this,t,o),i=n(this,t),this[t](),o!==(r=De.get(this,t))||i?De.set(this,t,!1):r={},o!==r)return e.stopImmediatePropagation(),e.preventDefault(),r.value}else o.length&&(De.set(this,t,{value:he.event.trigger(he.extend(o[0],he.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===De.get(e,t)&&he.event.add(e,t,T)}function S(e,t){return o(e,"table")&&o(11!==t.nodeType?t:t.firstChild,"tr")&&he(e).children("tbody")[0]||e}function L(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function C(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function I(e,t){var n,i,r,o,s,a,u,c;if(1===t.nodeType){if(De.hasData(e)&&(o=De.access(e),s=De.set(t,o),c=o.events))for(r in delete s.handle,s.events={},c)for(n=0,i=c[r].length;n<i;n++)he.event.add(t,r,c[r][n]);Re.hasData(e)&&(a=Re.access(e),u=he.extend({},a),Re.set(t,u))}}function _(e,t,i,r){t=te.apply([],t);var o,s,a,u,c,l,d=0,f=e.length,p=f-1,h=t[0],g=le(h);if(g||1<f&&"string"==typeof h&&!ce.checkClone&&it.test(h))return e.each(function(n){var o=e.eq(n);g&&(t[0]=h.call(this,n,o.html())),_(o,t,i,r)});if(f&&(s=(o=w(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=s),s||r)){for(u=(a=he.map(y(o,"script"),L)).length;d<f;d++)c=o,d!==p&&(c=he.clone(c,!0,!0),u&&he.merge(a,y(c,"script"))),i.call(e[d],c,d);if(u)for(l=a[a.length-1].ownerDocument,he.map(a,C),d=0;d<u;d++)c=a[d],Xe.test(c.type||"")&&!De.access(c,"globalEval")&&he.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?he._evalUrl&&!c.noModule&&he._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")}):n(c.textContent.replace(rt,""),c,l))}return e}function O(e,t,n){for(var i,r=t?he.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||he.cleanData(y(i)),i.parentNode&&(n&&qe(i)&&b(y(i,"script")),i.parentNode.removeChild(i));return e}function D(e,t,n){var i,r,o,s,a=e.style;return(n=n||st(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||qe(e)||(s=he.style(e,t)),!ce.pixelBoxStyles()&&ot.test(s)&&at.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function R(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function N(e){return he.cssProps[e]||lt[e]||(e in ct?e:lt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ut.length;n--;)if((e=ut[n]+t)in ct)return e}(e)||e)}function M(e,t,n){var i=Be.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function P(e,t,n,i,r,o){var s="width"===t?1:0,a=0,u=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=he.css(e,n+Ue[s],!0,r)),i?("content"===n&&(u-=he.css(e,"padding"+Ue[s],!0,r)),"margin"!==n&&(u-=he.css(e,"border"+Ue[s]+"Width",!0,r))):(u+=he.css(e,"padding"+Ue[s],!0,r),"padding"!==n?u+=he.css(e,"border"+Ue[s]+"Width",!0,r):a+=he.css(e,"border"+Ue[s]+"Width",!0,r));return!i&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-a-.5))||0),u}function B(e,t,n){var i=st(e),r=(!ce.boxSizingReliable()||n)&&"border-box"===he.css(e,"boxSizing",!1,i),o=r,s=D(e,t,i),a="offset"+t[0].toUpperCase()+t.slice(1);if(ot.test(s)){if(!n)return s;s="auto"}return(!ce.boxSizingReliable()&&r||"auto"===s||!parseFloat(s)&&"inline"===he.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===he.css(e,"boxSizing",!1,i),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+P(e,t,n||(r?"border":"content"),o,i,s)+"px"}function U(e,t,n,i,r){return new U.prototype.init(e,t,n,i,r)}function j(){mt&&(!1===J.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(j):e.setTimeout(j,he.fx.interval),he.fx.tick())}function q(){return e.setTimeout(function(){gt=void 0}),gt=Date.now()}function F(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=Ue[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function H(e,t,n){for(var i,r=(W.tweeners[t]||[]).concat(W.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function W(e,t,n){var i,r,o=0,s=W.prefilters.length,a=he.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var t=gt||q(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(i);return a.notifyWith(e,[c,i,n]),i<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:he.extend({},t),opts:he.extend(!0,{specialEasing:{},easing:he.easing._default},n),originalProperties:t,originalOptions:n,startTime:gt||q(),duration:n.duration,tweens:[],createTween:function(t,n){var i=he.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),l=c.props;for((!function(e,t){var n,i,r,o,s;for(n in e)if(r=t[i=p(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=he.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r
}(l,c.opts.specialEasing));o<s;o++)if(i=W.prefilters[o].call(c,e,l,c.opts))return le(i.stop)&&(he._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return he.map(l,H,c),le(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),he.fx.timer(he.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c}function z(e){return(e.match(ke)||[]).join(" ")}function V(e){return e.getAttribute&&e.getAttribute("class")||""}function G(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(ke)||[]}function X(e,t,n,r){var o;if(Array.isArray(t))he.each(t,function(t,i){n||Ot.test(e)?r(e,i):X(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==i(t))r(e,t);else for(o in t)X(e+"["+o+"]",t[o],n,r)}function K(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(ke)||[];if(le(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function $(e,t,n,i){function r(a){var u;return o[a]=!0,he.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||o[c]?s?!(u=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),u}var o={},s=e===Ht;return r(t.dataTypes[0])||!o["*"]&&r("*")}function Y(e,t){var n,i,r=he.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&he.extend(!0,e,i),e}var Q=[],J=e.document,Z=Object.getPrototypeOf,ee=Q.slice,te=Q.concat,ne=Q.push,ie=Q.indexOf,re={},oe=re.toString,se=re.hasOwnProperty,ae=se.toString,ue=ae.call(Object),ce={},le=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},de=function(e){return null!=e&&e===e.window},fe={type:!0,src:!0,nonce:!0,noModule:!0},pe="3.4.1",he=function(e,t){return new he.fn.init(e,t)},ge=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;he.fn=he.prototype={jquery:pe,constructor:he,length:0,toArray:function(){return ee.call(this)},get:function(e){return null==e?ee.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return he.each(this,e)},map:function(e){return this.pushStack(he.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ne,sort:Q.sort,splice:Q.splice},he.extend=he.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||le(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(t in e)i=e[t],"__proto__"!==t&&s!==i&&(c&&i&&(he.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[t],o=r&&!Array.isArray(n)?[]:r||he.isPlainObject(n)?n:{},r=!1,s[t]=he.extend(c,o,i)):void 0!==i&&(s[t]=i));return s},he.extend({expando:"jQuery"+(pe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==oe.call(e)||(t=Z(e))&&("function"!=typeof(n=se.call(t,"constructor")&&t.constructor)||ae.call(n)!==ue))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){n(e,{nonce:t&&t.nonce})},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ge,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?he.merge(n,"string"==typeof e?[e]:e):ne.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ie.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,o,s=0,a=[];if(r(e))for(i=e.length;s<i;s++)null!=(o=t(e[s],s,n))&&a.push(o);else for(s in e)null!=(o=t(e[s],s,n))&&a.push(o);return te.apply([],a)},guid:1,support:ce}),"function"==typeof Symbol&&(he.fn[Symbol.iterator]=Q[Symbol.iterator]),he.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){re["[object "+t+"]"]=t.toLowerCase()});var me=function(e){function t(e,t,n,i){var r,o,s,a,u,l,f,p=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!i&&((t?t.ownerDocument||t:B)!==I&&C(t),t=t||I,O)){if(11!==h&&(u=ge.exec(e)))if(r=u[1]){if(9===h){if(!(s=t.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(p&&(s=p.getElementById(r))&&M(t,s)&&s.id===r)return n.push(s),n}else{if(u[2])return $.apply(n,t.getElementsByTagName(e)),n;if((r=u[3])&&y.getElementsByClassName&&t.getElementsByClassName)return $.apply(n,t.getElementsByClassName(r)),n}if(y.qsa&&!W[e+" "]&&(!D||!D.test(e))&&(1!==h||"object"!==t.nodeName.toLowerCase())){if(f=e,p=t,1===h&&ae.test(e)){for((a=t.getAttribute("id"))?a=a.replace(be,we):t.setAttribute("id",a=P),o=(l=x(e)).length;o--;)l[o]="#"+a+" "+d(l[o]);f=l.join(","),p=me.test(e)&&c(t.parentNode)||t}try{return $.apply(n,p.querySelectorAll(f)),n}catch(t){W(e,!0)}finally{a===P&&t.removeAttribute("id")}}}return A(e.replace(re,"$1"),t,n,i)}function n(){var e=[];return function t(n,i){return e.push(n+" ")>b.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function i(e){return e[P]=!0,e}function r(e){var t=I.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)b.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&xe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&void 0!==e.getElementsByTagName&&e}function l(){}function d(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=t.next,o=r||i,s=n&&"parentNode"===o,a=j++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,u){var c,l,d,f=[U,a];if(u){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,u))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(l=(d=t[P]||(t[P]={}))[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=l[o])&&c[0]===U&&c[1]===a)return f[2]=c[2];if((l[o]=f)[2]=e(t,n,u))return!0}return!1}}function p(e){return 1<e.length?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function h(e,t,n,i,r){for(var o,s=[],a=0,u=e.length,c=null!=t;a<u;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),c&&t.push(a)));return s}function g(e,n,r,o,s,a){return o&&!o[P]&&(o=g(o)),s&&!s[P]&&(s=g(s,a)),i(function(i,a,u,c){var l,d,f,p=[],g=[],m=a.length,v=i||function(e,n,i){for(var r=0,o=n.length;r<o;r++)t(e,n[r],i);return i}(n||"*",u.nodeType?[u]:u,[]),y=!e||!i&&n?v:h(v,p,e,u,c),b=r?s||(i?e:m||o)?[]:a:y;if(r&&r(y,b,u,c),o)for(l=h(b,g),o(l,[],u,c),d=l.length;d--;)(f=l[d])&&(b[g[d]]=!(y[g[d]]=f));if(i){if(s||e){if(s){for(l=[],d=b.length;d--;)(f=b[d])&&l.push(y[d]=f);s(null,b=[],l,c)}for(d=b.length;d--;)(f=b[d])&&-1<(l=s?Q(i,f):p[d])&&(i[l]=!(a[l]=f))}}else b=h(b===a?b.splice(m,b.length):b),s?s(null,a,b,c):$.apply(a,b)})}function m(e){for(var t,n,i,r=e.length,o=b.relative[e[0].type],s=o||b.relative[" "],a=o?1:0,u=f(function(e){return e===t},s,!0),c=f(function(e){return-1<Q(t,e)},s,!0),l=[function(e,n,i){var r=!o&&(i||n!==k)||((t=n).nodeType?u(e,n,i):c(e,n,i));return t=null,r}];a<r;a++)if(n=b.relative[e[a].type])l=[f(p(l),n)];else{if((n=b.filter[e[a].type].apply(null,e[a].matches))[P]){for(i=++a;i<r&&!b.relative[e[i].type];i++);return g(1<a&&p(l),1<a&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(re,"$1"),n,a<i&&m(e.slice(a,i)),i<r&&m(e=e.slice(i)),i<r&&d(e))}l.push(n)}return p(l)}var v,y,b,w,T,x,E,A,k,S,L,C,I,_,O,D,R,N,M,P="sizzle"+1*new Date,B=e.document,U=0,j=0,q=n(),F=n(),H=n(),W=n(),z=function(e,t){return e===t&&(L=!0),0},V={}.hasOwnProperty,G=[],X=G.pop,K=G.push,$=G.push,Y=G.slice,Q=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Z="[\\x20\\t\\r\\n\\f]",ee="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",te="\\["+Z+"*("+ee+")(?:"+Z+"*([*^$|!~]?=)"+Z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ee+"))|)"+Z+"*\\]",ne=":("+ee+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+te+")*)|.*)\\)|)",ie=new RegExp(Z+"+","g"),re=new RegExp("^"+Z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Z+"+$","g"),oe=new RegExp("^"+Z+"*,"+Z+"*"),se=new RegExp("^"+Z+"*([>+~]|"+Z+")"+Z+"*"),ae=new RegExp(Z+"|>"),ue=new RegExp(ne),ce=new RegExp("^"+ee+"$"),le={ID:new RegExp("^#("+ee+")"),CLASS:new RegExp("^\\.("+ee+")"),TAG:new RegExp("^("+ee+"|[*])"),ATTR:new RegExp("^"+te),PSEUDO:new RegExp("^"+ne),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Z+"*(even|odd|(([+-]|)(\\d*)n|)"+Z+"*(?:([+-]|)"+Z+"*(\\d+)|))"+Z+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+Z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Z+"*((?:-\\d)?\\d*)"+Z+"*\\)|)(?=[^-]|$)","i")},de=/HTML$/i,fe=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,ve=new RegExp("\\\\([\\da-f]{1,6}"+Z+"?|("+Z+")|.)","ig"),ye=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Te=function(){C()},xe=f(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{$.apply(G=Y.call(B.childNodes),B.childNodes),G[B.childNodes.length].nodeType}catch(v){$={apply:G.length?function(e,t){K.apply(e,Y.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(v in y=t.support={},T=t.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!de.test(t||n&&n.nodeName||"HTML")},C=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:B;return i!==I&&9===i.nodeType&&i.documentElement&&(_=(I=i).documentElement,O=!T(I),B!==I&&(n=I.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Te,!1):n.attachEvent&&n.attachEvent("onunload",Te)),y.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=r(function(e){return e.appendChild(I.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=he.test(I.getElementsByClassName),y.getById=r(function(e){return _.appendChild(e).id=P,!I.getElementsByName||!I.getElementsByName(P).length}),y.getById?(b.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&O){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&O){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=y.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},b.find.CLASS=y.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&O)return t.getElementsByClassName(e)},R=[],D=[],(y.qsa=he.test(I.querySelectorAll))&&(r(function(e){_.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+Z+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+Z+"*(?:value|"+J+")"),e.querySelectorAll("[id~="+P+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||D.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=I.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+Z+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&D.push(":enabled",":disabled"),_.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(y.matchesSelector=he.test(N=_.matches||_.webkitMatchesSelector||_.mozMatchesSelector||_.oMatchesSelector||_.msMatchesSelector))&&r(function(e){y.disconnectedMatch=N.call(e,"*"),N.call(e,"[s!='']:x"),R.push("!=",ne)}),D=D.length&&new RegExp(D.join("|")),R=R.length&&new RegExp(R.join("|")),t=he.test(_.compareDocumentPosition),M=t||he.test(_.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=t?function(e,t){if(e===t)return L=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!y.sortDetached&&t.compareDocumentPosition(e)===n?e===I||e.ownerDocument===B&&M(B,e)?-1:t===I||t.ownerDocument===B&&M(B,t)?1:S?Q(S,e)-Q(S,t):0:4&n?-1:1)}:function(e,t){if(e===t)return L=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],u=[t];if(!r||!o)return e===I?-1:t===I?1:r?-1:o?1:S?Q(S,e)-Q(S,t):0;if(r===o)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[i]===u[i];)i++;return i?s(a[i],u[i]):a[i]===B?-1:u[i]===B?1:0}),I},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==I&&C(e),y.matchesSelector&&O&&!W[n+" "]&&(!R||!R.test(n))&&(!D||!D.test(n)))try{var i=N.call(e,n);if(i||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){W(n,!0)}return 0<t(n,I,null,[e]).length},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&C(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&C(e);var n=b.attrHandle[t.toLowerCase()],i=n&&V.call(b.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==i?i:y.attributes||!O?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(be,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(L=!y.detectDuplicates,S=!y.sortStable&&e.slice(0),e.sort(z),L){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return S=null,e},w=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=w(t);return n},(b=t.selectors={cacheLength:50,createPseudo:i,match:le,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return le.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=x(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+Z+")"+e+"("+Z+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&-1<o.indexOf(i):"$="===n?i&&o.slice(-i.length)===i:"~="===n?-1<(" "+o.replace(ie," ")+" ").indexOf(i):"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var c,l,d,f,p,h,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!u&&!a,b=!1;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?m.firstChild:m.lastChild],s&&y){for(b=(p=(c=(l=(d=(f=m)[P]||(f[P]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===U&&c[1])&&c[2],f=p&&m.childNodes[p];f=++p&&f&&f[g]||(b=p=0)||h.pop();)if(1===f.nodeType&&++b&&f===t){l[e]=[U,p,b];break}}else if(y&&(b=p=(c=(l=(d=(f=t)[P]||(f[P]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===U&&c[1]),!1===b)for(;(f=++p&&f&&f[g]||(b=p=0)||h.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((l=(d=f[P]||(f[P]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[U,b]),f!==t)););return(b-=r)===i||b%i==0&&0<=b/i}}},PSEUDO:function(e,n){var r,o=b.pseudos[e]||b.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):1<o.length?(r=[e,e,"",n],b.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),s=r.length;s--;)e[i=Q(e,r[s])]=!(t[i]=r[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=E(e.replace(re,"$1"));return r[P]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return 0<t(e,n).length}}),contains:i(function(e){return e=e.replace(ve,ye),function(t){return-1<(t.textContent||w(t)).indexOf(e)}}),lang:i(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,ye).toLowerCase(),function(t){var n;do{if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===_},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[v]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(v);for(v in{submit:!0,reset:!0})b.pseudos[v]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(v);return l.prototype=b.filters=b.pseudos,b.setFilters=new l,x=t.tokenize=function(e,n){var i,r,o,s,a,u,c,l=F[e+" "];if(l)return n?0:l.slice(0);for(a=e,u=[],c=b.preFilter;a;){for(s in i&&!(r=oe.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),i=!1,(r=se.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(re," ")}),a=a.slice(i.length)),b.filter)!(r=le[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):F(e,u).slice(0)},E=t.compile=function(e,n){var r,o,s,a,u,c,l=[],d=[],f=H[e+" "];if(!f){for(n||(n=x(e)),r=n.length;r--;)(f=m(n[r]))[P]?l.push(f):d.push(f);(f=H(e,(o=d,a=0<(s=l).length,u=0<o.length,c=function(e,n,i,r,c){var l,d,f,p=0,g="0",m=e&&[],v=[],y=k,w=e||u&&b.find.TAG("*",c),T=U+=null==y?1:Math.random()||.1,x=w.length;for(c&&(k=n===I||n||c);g!==x&&null!=(l=w[g]);g++){if(u&&l){for(d=0,n||l.ownerDocument===I||(C(l),i=!O);f=o[d++];)if(f(l,n||I,i)){r.push(l);break}c&&(U=T)}a&&((l=!f&&l)&&p--,e&&m.push(l))}if(p+=g,a&&g!==p){for(d=0;f=s[d++];)f(m,v,n,i);if(e){if(0<p)for(;g--;)m[g]||v[g]||(v[g]=X.call(r));v=h(v)}$.apply(r,v),c&&!e&&0<v.length&&1<p+s.length&&t.uniqueSort(r)}return c&&(U=T,k=y),m},a?i(c):c))).selector=e}return f},A=t.select=function(e,t,n,i){var r,o,s,a,u,l="function"==typeof e&&e,f=!i&&x(e=l.selector||e);if(n=n||[],1===f.length){if(2<(o=f[0]=f[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===t.nodeType&&O&&b.relative[o[1].type]){if(!(t=(b.find.ID(s.matches[0].replace(ve,ye),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=le.needsContext.test(e)?0:o.length;r--&&(s=o[r],!b.relative[a=s.type]);)if((u=b.find[a])&&(i=u(s.matches[0].replace(ve,ye),me.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&d(o)))return $.apply(n,i),n;break}}return(l||E(e,f))(i,t,!O,n,!t||me.test(e)&&c(t.parentNode)||t),n},y.sortStable=P.split("").sort(z).join("")===P,y.detectDuplicates=!!L,C(),y.sortDetached=r(function(e){return 1&e.compareDocumentPosition(I.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(J,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);he.find=me,he.expr=me.selectors,he.expr[":"]=he.expr.pseudos,he.uniqueSort=he.unique=me.uniqueSort,he.text=me.getText,he.isXMLDoc=me.isXML,he.contains=me.contains,he.escapeSelector=me.escape;var ve=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&he(e).is(n))break;i.push(e)}return i},ye=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},be=he.expr.match.needsContext,we=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;he.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?he.find.matchesSelector(i,e)?[i]:[]:he.find.matches(e,he.grep(t,function(e){return 1===e.nodeType}))},he.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(he(e).filter(function(){for(t=0;t<i;t++)if(he.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)he.find(e,r[t],n);return 1<i?he.uniqueSort(n):n},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&be.test(e)?he(e):e||[],!1).length}});var Te,xe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(he.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||Te,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:xe.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),we.test(i[1])&&he.isPlainObject(t))for(i in t)le(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=J.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):le(e)?void 0!==n.ready?n.ready(e):e(he):he.makeArray(e,this)}).prototype=he.fn,Te=he(J);var Ee=/^(?:parents|prev(?:Until|All))/,Ae={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({has:function(e){var t=he(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(he.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],s="string"!=typeof e&&he(e);if(!be.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&he.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?he.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ie.call(he(e),this[0]):ie.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(he.uniqueSort(he.merge(this.get(),he(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ve(e,"parentNode")},parentsUntil:function(e,t,n){return ve(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return ve(e,"nextSibling")},prevAll:function(e){return ve(e,"previousSibling")},nextUntil:function(e,t,n){return ve(e,"nextSibling",n)},prevUntil:function(e,t,n){return ve(e,"previousSibling",n)},siblings:function(e){return ye((e.parentNode||{}).firstChild,e)},children:function(e){return ye(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(o(e,"template")&&(e=e.content||e),he.merge([],e.childNodes))}},function(e,t){he.fn[e]=function(n,i){var r=he.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=he.filter(i,r)),1<this.length&&(Ae[e]||he.uniqueSort(r),Ee.test(e)&&r.reverse()),this.pushStack(r)}});var ke=/[^\x20\t\r\n\f]+/g;he.Callbacks=function(e){var t,n;e="string"==typeof e?(t=e,n={},he.each(t.match(ke)||[],function(e,t){n[t]=!0}),n):he.extend({},e);var r,o,s,a,u=[],c=[],l=-1,d=function(){for(a=a||e.once,s=r=!0;c.length;l=-1)for(o=c.shift();++l<u.length;)!1===u[l].apply(o[0],o[1])&&e.stopOnFalse&&(l=u.length,o=!1);e.memory||(o=!1),r=!1,a&&(u=o?[]:"")},f={add:function(){return u&&(o&&!r&&(l=u.length-1,c.push(o)),function t(n){he.each(n,function(n,r){le(r)?e.unique&&f.has(r)||u.push(r):r&&r.length&&"string"!==i(r)&&t(r)})}(arguments),o&&!r&&d()),this},remove:function(){return he.each(arguments,function(e,t){for(var n;-1<(n=he.inArray(t,u,n));)u.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<he.inArray(e,u):0<u.length},empty:function(){return u&&(u=[]),this},disable:function(){return a=c=[],u=o="",this},disabled:function(){return!u},lock:function(){return a=c=[],o||r||(u=o=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),r||d()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!s}};return f},he.extend({Deferred:function(t){var n=[["notify","progress",he.Callbacks("memory"),he.Callbacks("memory"),2],["resolve","done",he.Callbacks("once memory"),he.Callbacks("once memory"),0,"resolved"],["reject","fail",he.Callbacks("once memory"),he.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return he.Deferred(function(t){he.each(n,function(n,i){var r=le(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&le(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,i,r){function o(t,n,i,r){return function(){var a=this,l=arguments,d=function(){var e,d;if(!(t<s)){if((e=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,le(d)?r?d.call(e,o(s,n,u,r),o(s,n,c,r)):(s++,d.call(e,o(s,n,u,r),o(s,n,c,r),o(s,n,u,n.notifyWith))):(i!==u&&(a=void 0,l=[e]),(r||n.resolveWith)(a,l))}},f=r?d:function(){try{d()}catch(e){he.Deferred.exceptionHook&&he.Deferred.exceptionHook(e,f.stackTrace),s<=t+1&&(i!==c&&(a=void 0,l=[e]),n.rejectWith(a,l))}};t?f():(he.Deferred.getStackHook&&(f.stackTrace=he.Deferred.getStackHook()),e.setTimeout(f))}}var s=0;return he.Deferred(function(e){n[0][3].add(o(0,e,le(r)?r:u,e.notifyWith)),n[1][3].add(o(0,e,le(t)?t:u)),n[2][3].add(o(0,e,le(i)?i:c))}).promise()},promise:function(e){return null!=e?he.extend(e,r):r}},o={};return he.each(n,function(e,t){var s=t[2],a=t[5];r[t[1]]=s.add,a&&s.add(function(){i=a},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),s.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=ee.call(arguments),o=he.Deferred(),s=function(e){return function(n){i[e]=this,r[e]=1<arguments.length?ee.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(l(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||le(r[n]&&r[n].then)))return o.then();for(;n--;)l(r[n],s(n),o.reject);return o.promise()}});var Se=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;he.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Se.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},he.readyException=function(t){e.setTimeout(function(){throw t})};var Le=he.Deferred();he.fn.ready=function(e){return Le.then(e).catch(function(e){he.readyException(e)}),this},he.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--he.readyWait:he.isReady)||(he.isReady=!0)!==e&&0<--he.readyWait||Le.resolveWith(J,[he])}}),he.ready.then=Le.then,"complete"===J.readyState||"loading"!==J.readyState&&!J.documentElement.doScroll?e.setTimeout(he.ready):(J.addEventListener("DOMContentLoaded",d),e.addEventListener("load",d));var Ce=function(e,t,n,r,o,s,a){var u=0,c=e.length,l=null==n;if("object"===i(n))for(u in o=!0,n)Ce(e,t,u,n[u],!0,s,a);else if(void 0!==r&&(o=!0,le(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(he(e),n)})),t))for(;u<c;u++)t(e[u],n,a?r:r.call(e[u],u,t(e[u],n)));return o?e:l?t.call(e):c?t(e[0],n):s
},Ie=/^-ms-/,_e=/-([a-z])/g,Oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};h.uid=1,h.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[p(t)]=n;else for(i in t)r[p(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][p(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(p):(t=p(t))in i?[t]:t.match(ke)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||he.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!he.isEmptyObject(t)}};var De=new h,Re=new h,Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Me=/[A-Z]/g;he.extend({hasData:function(e){return Re.hasData(e)||De.hasData(e)},data:function(e,t,n){return Re.access(e,t,n)},removeData:function(e,t){Re.remove(e,t)},_data:function(e,t,n){return De.access(e,t,n)},_removeData:function(e,t){De.remove(e,t)}}),he.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=Re.get(o),1===o.nodeType&&!De.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=p(i.slice(5)),g(o,i,r[i]));De.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Re.set(this,e)}):Ce(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=Re.get(o,e))?n:void 0!==(n=g(o,e))?n:void 0;this.each(function(){Re.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Re.remove(this,e)})}}),he.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=De.get(e,t),n&&(!i||Array.isArray(n)?i=De.access(e,t,he.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=he.queue(e,t),i=n.length,r=n.shift(),o=he._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){he.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return De.get(e,n)||De.access(e,n,{empty:he.Callbacks("once memory").add(function(){De.remove(e,[t+"queue",n])})})}}),he.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?he.queue(this[0],e):void 0===t?this:this.each(function(){var n=he.queue(this,e,t);he._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&he.dequeue(this,e)})},dequeue:function(e){return this.each(function(){he.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=he.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=De.get(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var Pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Be=new RegExp("^(?:([+-])=|)("+Pe+")([a-z%]*)$","i"),Ue=["Top","Right","Bottom","Left"],je=J.documentElement,qe=function(e){return he.contains(e.ownerDocument,e)},Fe={composed:!0};je.getRootNode&&(qe=function(e){return he.contains(e.ownerDocument,e)||e.getRootNode(Fe)===e.ownerDocument});var He=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&qe(e)&&"none"===he.css(e,"display")},We=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=s[o];return r},ze={};he.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){He(this)?he(this).show():he(this).hide()})}});var Ve=/^(?:checkbox|radio)$/i,Ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Xe=/^$|^module$|\/(?:java|ecma)script/i,Ke={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td;var $e,Ye,Qe=/<|&#?\w+;/;$e=J.createDocumentFragment().appendChild(J.createElement("div")),(Ye=J.createElement("input")).setAttribute("type","radio"),Ye.setAttribute("checked","checked"),Ye.setAttribute("name","t"),$e.appendChild(Ye),ce.checkClone=$e.cloneNode(!0).cloneNode(!0).lastChild.checked,$e.innerHTML="<textarea>x</textarea>",ce.noCloneChecked=!!$e.cloneNode(!0).lastChild.defaultValue;var Je=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,et=/^([^.]*)(?:\.(.+)|)/;he.event={global:{},add:function(e,t,n,i,r){var o,s,a,u,c,l,d,f,p,h,g,m=De.get(e);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&he.find.matchesSelector(je,r),n.guid||(n.guid=he.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==he&&he.event.triggered!==t.type?he.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(ke)||[""]).length;c--;)p=g=(a=et.exec(t[c])||[])[1],h=(a[2]||"").split(".").sort(),p&&(d=he.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=he.event.special[p]||{},l=he.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&he.expr.match.needsContext.test(r),namespace:h.join(".")},o),(f=u[p])||((f=u[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,h,s)||e.addEventListener&&e.addEventListener(p,s)),d.add&&(d.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,l):f.push(l),he.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,s,a,u,c,l,d,f,p,h,g,m=De.hasData(e)&&De.get(e);if(m&&(u=m.events)){for(c=(t=(t||"").match(ke)||[""]).length;c--;)if(p=g=(a=et.exec(t[c])||[])[1],h=(a[2]||"").split(".").sort(),p){for(d=he.event.special[p]||{},f=u[p=(i?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)l=f[o],!r&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,d.remove&&d.remove.call(e,l));s&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,m.handle)||he.removeEvent(e,p,m.handle),delete u[p])}else for(p in u)he.event.remove(e,p+t[c],n,i,!0);he.isEmptyObject(u)&&De.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s,a=he.event.fix(e),u=new Array(arguments.length),c=(De.get(this,"events")||{})[a.type]||[],l=he.event.special[a.type]||{};for(u[0]=a,t=1;t<arguments.length;t++)u[t]=arguments[t];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(s=he.event.handlers.call(this,a,c),t=0;(r=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((he.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,r,o,s,a=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?-1<he(r,this).index(c):he.find(r,this,null,[c]).length),s[r]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,u<t.length&&a.push({elem:c,handlers:t.slice(u)}),a},addProp:function(e,t){Object.defineProperty(he.Event.prototype,e,{enumerable:!0,configurable:!0,get:le(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[he.expando]?e:new he.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ve.test(t.type)&&t.click&&o(t,"input")&&k(t,"click",T),!1},trigger:function(e){var t=this||e;return Ve.test(t.type)&&t.click&&o(t,"input")&&k(t,"click"),!0},_default:function(e){var t=e.target;return Ve.test(t.type)&&t.click&&o(t,"input")&&De.get(t,"click")||o(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},he.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},he.Event=function(e,t){if(!(this instanceof he.Event))return new he.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?T:x,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&he.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[he.expando]=!0},he.Event.prototype={constructor:he.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=T,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=T,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=T,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},he.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Je.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ze.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},he.event.addProp),he.each({focus:"focusin",blur:"focusout"},function(e,t){he.event.special[e]={setup:function(){return k(this,e,E),!1},trigger:function(){return k(this,e),!0},delegateType:t}}),he.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){he.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||he.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),he.fn.extend({on:function(e,t,n,i){return A(this,e,t,n,i)},one:function(e,t,n,i){return A(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,he(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=x),this.each(function(){he.event.remove(this,e,n,t)})}});var tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,nt=/<script|<style|<link/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;he.extend({htmlPrefilter:function(e){return e.replace(tt,"<$1></$2>")},clone:function(e,t,n){var i,r,o,s,a,u,c,l=e.cloneNode(!0),d=qe(e);if(!(ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||he.isXMLDoc(e)))for(s=y(l),i=0,r=(o=y(e)).length;i<r;i++)a=o[i],u=s[i],"input"===(c=u.nodeName.toLowerCase())&&Ve.test(a.type)?u.checked=a.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=a.defaultValue);if(t)if(n)for(o=o||y(e),s=s||y(l),i=0,r=o.length;i<r;i++)I(o[i],s[i]);else I(e,l);return 0<(s=y(l,"script")).length&&b(s,!d&&y(e,"script")),l},cleanData:function(e){for(var t,n,i,r=he.event.special,o=0;void 0!==(n=e[o]);o++)if(Oe(n)){if(t=n[De.expando]){if(t.events)for(i in t.events)r[i]?he.event.remove(n,i):he.removeEvent(n,i,t.handle);n[De.expando]=void 0}n[Re.expando]&&(n[Re.expando]=void 0)}}}),he.fn.extend({detach:function(e){return O(this,e,!0)},remove:function(e){return O(this,e)},text:function(e){return Ce(this,function(e){return void 0===e?he.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return _(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||S(this,e).appendChild(e)})},prepend:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(he.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return he.clone(this,e,t)})},html:function(e){return Ce(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!nt.test(e)&&!Ke[(Ge.exec(e)||["",""])[1].toLowerCase()]){e=he.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(he.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return _(this,arguments,function(t){var n=this.parentNode;he.inArray(this,e)<0&&(he.cleanData(y(this)),n&&n.replaceChild(t,this))},e)}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){he.fn[e]=function(e){for(var n,i=[],r=he(e),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),he(r[s])[t](n),ne.apply(i,n.get());return this.pushStack(i)}});var ot=new RegExp("^("+Pe+")(?!px)[a-z%]+$","i"),st=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},at=new RegExp(Ue.join("|"),"i");!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",je.appendChild(u).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,a=12===n(t.marginLeft),c.style.right="60%",s=36===n(t.right),r=36===n(t.width),c.style.position="absolute",o=12===n(c.offsetWidth/3),je.removeChild(u),c=null}}function n(e){return Math.round(parseFloat(e))}var i,r,o,s,a,u=J.createElement("div"),c=J.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ce.clearCloneStyle="content-box"===c.style.backgroundClip,he.extend(ce,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),a},scrollboxSize:function(){return t(),o}}))}();var ut=["Webkit","Moz","ms"],ct=J.createElement("div").style,lt={},dt=/^(none|table(?!-c[ea]).+)/,ft=/^--/,pt={position:"absolute",visibility:"hidden",display:"block"},ht={letterSpacing:"0",fontWeight:"400"};he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=D(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=p(t),u=ft.test(t),c=e.style;if(u||(t=N(a)),s=he.cssHooks[t]||he.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:c[t];"string"==(o=typeof n)&&(r=Be.exec(n))&&r[1]&&(n=m(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=r&&r[3]||(he.cssNumber[a]?"":"px")),ce.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,s,a=p(t);return ft.test(t)||(t=N(a)),(s=he.cssHooks[t]||he.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=D(e,t,i)),"normal"===r&&t in ht&&(r=ht[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),he.each(["height","width"],function(e,t){he.cssHooks[t]={get:function(e,n,i){if(n)return!dt.test(he.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?B(e,t,i):We(e,pt,function(){return B(e,t,i)})},set:function(e,n,i){var r,o=st(e),s=!ce.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===he.css(e,"boxSizing",!1,o),u=i?P(e,t,i,a,o):0;return a&&s&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-P(e,t,"border",!1,o)-.5)),u&&(r=Be.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=he.css(e,t)),M(0,n,u)}}}),he.cssHooks.marginLeft=R(ce.reliableMarginLeft,function(e,t){if(t)return(parseFloat(D(e,"marginLeft"))||e.getBoundingClientRect().left-We(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),he.each({margin:"",padding:"",border:"Width"},function(e,t){he.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+Ue[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(he.cssHooks[e+t].set=M)}),he.fn.extend({css:function(e,t){return Ce(this,function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){for(i=st(e),r=t.length;s<r;s++)o[t[s]]=he.css(e,t[s],!1,i);return o}return void 0!==n?he.style(e,t,n):he.css(e,t)},e,t,1<arguments.length)}}),((he.Tween=U).prototype={constructor:U,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||he.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(he.cssNumber[n]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.options.duration?this.pos=t=he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}}).init.prototype=U.prototype,(U.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=he.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):1!==e.elem.nodeType||!he.cssHooks[e.prop]&&null==e.elem.style[N(e.prop)]?e.elem[e.prop]=e.now:he.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},he.fx=U.prototype.init,he.fx.step={};var gt,mt,vt,yt,bt=/^(?:toggle|show|hide)$/,wt=/queueHooks$/;he.Animation=he.extend(W,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return m(n.elem,e,Be.exec(t),n),n}]},tweener:function(e,t){le(e)?(t=e,e=["*"]):e=e.match(ke);for(var n,i=0,r=e.length;i<r;i++)n=e[i],W.tweeners[n]=W.tweeners[n]||[],W.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,s,a,u,c,l,d="width"in t||"height"in t,f=this,p={},h=e.style,g=e.nodeType&&He(e),m=De.get(e,"fxshow");for(i in n.queue||(null==(s=he._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,he.queue(e,"fx").length||s.empty.fire()})})),t)if(r=t[i],bt.test(r)){if(delete t[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}p[i]=m&&m[i]||he.style(e,i)}if((u=!he.isEmptyObject(t))||!he.isEmptyObject(p))for(i in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=m&&m.display)&&(c=De.get(e,"display")),"none"===(l=he.css(e,"display"))&&(c?l=c:(v([e],!0),c=e.style.display||c,l=he.css(e,"display"),v([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===he.css(e,"float")&&(u||(f.done(function(){h.display=c}),null==c&&(l=h.display,c="none"===l?"":l)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,p)u||(m?"hidden"in m&&(g=m.hidden):m=De.access(e,"fxshow",{display:c}),o&&(m.hidden=!g),g&&v([e],!0),f.done(function(){for(i in g||v([e]),De.remove(e,"fxshow"),p)he.style(e,i,p[i])})),u=H(g?m[i]:0,i,f),i in m||(m[i]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?W.prefilters.unshift(e):W.prefilters.push(e)}}),he.speed=function(e,t,n){var i=e&&"object"==typeof e?he.extend({},e):{complete:n||!n&&t||le(e)&&e,duration:e,easing:n&&t||t&&!le(t)&&t};return he.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in he.fx.speeds?i.duration=he.fx.speeds[i.duration]:i.duration=he.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){le(i.old)&&i.old.call(this),i.queue&&he.dequeue(this,i.queue)},i},he.fn.extend({fadeTo:function(e,t,n,i){return this.filter(He).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=he.isEmptyObject(e),o=he.speed(t,n,i),s=function(){var t=W(this,he.extend({},e),o);(r||De.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=he.timers,s=De.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&wt.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||he.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=De.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=he.timers,s=i?i.length:0;for(n.finish=!0,he.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),he.each(["toggle","show","hide"],function(e,t){var n=he.fn[t];he.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(F(t,!0),e,i,r)}}),he.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){he.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),he.timers=[],he.fx.tick=function(){var e,t=0,n=he.timers;for(gt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||he.fx.stop(),gt=void 0},he.fx.timer=function(e){he.timers.push(e),he.fx.start()},he.fx.interval=13,he.fx.start=function(){mt||(mt=!0,j())},he.fx.stop=function(){mt=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fn.delay=function(t,n){return t=he.fx&&he.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},vt=J.createElement("input"),yt=J.createElement("select").appendChild(J.createElement("option")),vt.type="checkbox",ce.checkOn=""!==vt.value,ce.optSelected=yt.selected,(vt=J.createElement("input")).value="t",vt.type="radio",ce.radioValue="t"===vt.value;var Tt,xt=he.expr.attrHandle;he.fn.extend({attr:function(e,t){return Ce(this,he.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){he.removeAttr(this,e)})}}),he.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?he.prop(e,t,n):(1===o&&he.isXMLDoc(e)||(r=he.attrHooks[t.toLowerCase()]||(he.expr.match.bool.test(t)?Tt:void 0)),void 0!==n?null===n?void he.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=he.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!ce.radioValue&&"radio"===t&&o(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(ke);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),Tt={set:function(e,t,n){return!1===t?he.removeAttr(e,n):e.setAttribute(n,n),n}},he.each(he.expr.match.bool.source.match(/\w+/g),function(e,t){var n=xt[t]||he.find.attr;xt[t]=function(e,t,i){var r,o,s=t.toLowerCase();return i||(o=xt[s],xt[s]=r,r=null!=n(e,t,i)?s:null,xt[s]=o),r}});var Et=/^(?:input|select|textarea|button)$/i,At=/^(?:a|area)$/i;he.fn.extend({prop:function(e,t){return Ce(this,he.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[he.propFix[e]||e]})}}),he.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&he.isXMLDoc(e)||(t=he.propFix[t]||t,r=he.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=he.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ce.optSelected||(he.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),he.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,u=0;if(le(e))return this.each(function(t){he(this).addClass(e.call(this,t,V(this)))});if((t=G(e)).length)for(;n=this[u++];)if(r=V(n),i=1===n.nodeType&&" "+z(r)+" "){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=z(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,u=0;if(le(e))return this.each(function(t){he(this).removeClass(e.call(this,t,V(this)))});if(!arguments.length)return this.attr("class","");if((t=G(e)).length)for(;n=this[u++];)if(r=V(n),i=1===n.nodeType&&" "+z(r)+" "){for(s=0;o=t[s++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(a=z(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):le(e)?this.each(function(n){he(this).toggleClass(e.call(this,n,V(this),t),t)}):this.each(function(){var t,r,o,s;if(i)for(r=0,o=he(this),s=G(e);t=s[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=V(this))&&De.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":De.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+z(V(n))+" ").indexOf(t))return!0;return!1}});var kt=/\r/g;he.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=le(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,he(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=he.map(r,function(e){return null==e?"":e+""})),(t=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=he.valHooks[r.type]||he.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(kt,""):null==n?"":n:void 0}}),he.extend({valHooks:{option:{get:function(e){var t=he.find.attr(e,"value");return null!=t?t:z(he.text(e))}},select:{get:function(e){var t,n,i,r=e.options,s=e.selectedIndex,a="select-one"===e.type,u=a?null:[],c=a?s+1:r.length;for(i=s<0?c:a?s:0;i<c;i++)if(((n=r[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(t=he(n).val(),a)return t;u.push(t)}return u},set:function(e,t){for(var n,i,r=e.options,o=he.makeArray(t),s=r.length;s--;)((i=r[s]).selected=-1<he.inArray(he.valHooks.option.get(i),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<he.inArray(he(e).val(),t)}},ce.checkOn||(he.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ce.focusin="onfocusin"in e;var St=/^(?:focusinfocus|focusoutblur)$/,Lt=function(e){e.stopPropagation()};he.extend(he.event,{trigger:function(t,n,i,r){var o,s,a,u,c,l,d,f,p=[i||J],h=se.call(t,"type")?t.type:t,g=se.call(t,"namespace")?t.namespace.split("."):[];if(s=f=a=i=i||J,3!==i.nodeType&&8!==i.nodeType&&!St.test(h+he.event.triggered)&&(-1<h.indexOf(".")&&(h=(g=h.split(".")).shift(),g.sort()),c=h.indexOf(":")<0&&"on"+h,(t=t[he.expando]?t:new he.Event(h,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:he.makeArray(n,[t]),d=he.event.special[h]||{},r||!d.trigger||!1!==d.trigger.apply(i,n))){if(!r&&!d.noBubble&&!de(i)){for(u=d.delegateType||h,St.test(u+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(i.ownerDocument||J)&&p.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)f=s,t.type=1<o?u:d.bindType||h,(l=(De.get(s,"events")||{})[t.type]&&De.get(s,"handle"))&&l.apply(s,n),(l=c&&s[c])&&l.apply&&Oe(s)&&(t.result=l.apply(s,n),!1===t.result&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),n)||!Oe(i)||c&&le(i[h])&&!de(i)&&((a=i[c])&&(i[c]=null),he.event.triggered=h,t.isPropagationStopped()&&f.addEventListener(h,Lt),i[h](),t.isPropagationStopped()&&f.removeEventListener(h,Lt),he.event.triggered=void 0,a&&(i[c]=a)),t.result}},simulate:function(e,t,n){var i=he.extend(new he.Event,n,{type:e,isSimulated:!0});he.event.trigger(i,null,t)}}),he.fn.extend({trigger:function(e,t){return this.each(function(){he.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return he.event.trigger(e,t,n,!0)}}),ce.focusin||he.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){he.event.simulate(t,e.target,he.event.fix(e))};he.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=De.access(i,t);r||i.addEventListener(e,n,!0),De.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=De.access(i,t)-1;r?De.access(i,t,r):(i.removeEventListener(e,n,!0),De.remove(i,t))}}});var Ct=e.location,It=Date.now(),_t=/\?/;he.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+t),n};var Ot=/\[\]$/,Dt=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;he.param=function(e,t){var n,i=[],r=function(e,t){var n=le(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!he.isPlainObject(e))he.each(e,function(){r(this.name,this.value)});else for(n in e)X(n,e[n],t,r);return i.join("&")},he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=he.prop(this,"elements")
;return e?he.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!he(this).is(":disabled")&&Nt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!Ve.test(e))}).map(function(e,t){var n=he(this).val();return null==n?null:Array.isArray(n)?he.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var Mt=/%20/g,Pt=/#.*$/,Bt=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,jt=/^(?:GET|HEAD)$/,qt=/^\/\//,Ft={},Ht={},Wt="*/".concat("*"),zt=J.createElement("a");zt.href=Ct.href,he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Y(Y(e,he.ajaxSettings),t):Y(he.ajaxSettings,e)},ajaxPrefilter:K(Ft),ajaxTransport:K(Ht),ajax:function(t,n){function i(t,n,i,a){var c,f,p,w,T,x=n;l||(l=!0,u&&e.clearTimeout(u),r=void 0,s=a||"",E.readyState=0<t?4:0,c=200<=t&&t<300||304===t,i&&(w=function(e,t,n){for(var i,r,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(h,E,i)),w=function(e,t,n,i){var r,o,s,a,u,c={},l=e.dataTypes.slice();if(l[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=c[u+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(h,w,E,c),c?(h.ifModified&&((T=E.getResponseHeader("Last-Modified"))&&(he.lastModified[o]=T),(T=E.getResponseHeader("etag"))&&(he.etag[o]=T)),204===t||"HEAD"===h.type?x="nocontent":304===t?x="notmodified":(x=w.state,f=w.data,c=!(p=w.error))):(p=x,!t&&x||(x="error",t<0&&(t=0))),E.status=t,E.statusText=(n||x)+"",c?v.resolveWith(g,[f,x,E]):v.rejectWith(g,[E,x,p]),E.statusCode(b),b=void 0,d&&m.trigger(c?"ajaxSuccess":"ajaxError",[E,h,c?f:p]),y.fireWith(g,[E,x]),d&&(m.trigger("ajaxComplete",[E,h]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,s,a,u,c,l,d,f,p,h=he.ajaxSetup({},n),g=h.context||h,m=h.context&&(g.nodeType||g.jquery)?he(g):he.event,v=he.Deferred(),y=he.Callbacks("once memory"),b=h.statusCode||{},w={},T={},x="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a)for(a={};t=Ut.exec(s);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(e,t){return null==l&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)E.always(e[E.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||x;return r&&r.abort(t),i(0,t),this}};if(v.promise(E),h.url=((t||h.url||Ct.href)+"").replace(qt,Ct.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(ke)||[""],null==h.crossDomain){c=J.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=zt.protocol+"//"+zt.host!=c.protocol+"//"+c.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=he.param(h.data,h.traditional)),$(Ft,h,n,E),l)return E;for(f in(d=he.event&&h.global)&&0==he.active++&&he.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!jt.test(h.type),o=h.url.replace(Pt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Mt,"+")):(p=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(_t.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Bt,"$1"),p=(_t.test(o)?"&":"?")+"_="+It+++p),h.url=o+p),h.ifModified&&(he.lastModified[o]&&E.setRequestHeader("If-Modified-Since",he.lastModified[o]),he.etag[o]&&E.setRequestHeader("If-None-Match",he.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Wt+"; q=0.01":""):h.accepts["*"]),h.headers)E.setRequestHeader(f,h.headers[f]);if(h.beforeSend&&(!1===h.beforeSend.call(g,E,h)||l))return E.abort();if(x="abort",y.add(h.complete),E.done(h.success),E.fail(h.error),r=$(Ht,h,n,E)){if(E.readyState=1,d&&m.trigger("ajaxSend",[E,h]),l)return E;h.async&&0<h.timeout&&(u=e.setTimeout(function(){E.abort("timeout")},h.timeout));try{l=!1,r.send(w,i)}catch(t){if(l)throw t;i(-1,t)}}else i(-1,"No Transport");return E},getJSON:function(e,t,n){return he.get(e,t,n,"json")},getScript:function(e,t){return he.get(e,void 0,t,"script")}}),he.each(["get","post"],function(e,t){he[t]=function(e,n,i,r){return le(n)&&(r=r||i,i=n,n=void 0),he.ajax(he.extend({url:e,type:t,dataType:r,data:n,success:i},he.isPlainObject(e)&&e))}}),he._evalUrl=function(e,t){return he.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){he.globalEval(e,t)}})},he.fn.extend({wrapAll:function(e){var t;return this[0]&&(le(e)&&(e=e.call(this[0])),t=he(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return le(e)?this.each(function(t){he(this).wrapInner(e.call(this,t))}):this.each(function(){var t=he(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=le(e);return this.each(function(n){he(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){he(this).replaceWith(this.childNodes)}),this}}),he.expr.pseudos.hidden=function(e){return!he.expr.pseudos.visible(e)},he.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},he.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Gt=he.ajaxSettings.xhr();ce.cors=!!Gt&&"withCredentials"in Gt,ce.ajax=Gt=!!Gt,he.ajaxTransport(function(t){var n,i;if(ce.cors||Gt&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Vt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(r){if(n)throw r}},abort:function(){n&&n()}}}),he.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),he.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=he("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}});var Xt,Kt=[],$t=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||he.expando+"_"+It++;return this[e]=!0,e}}),he.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,s,a=!1!==t.jsonp&&($t.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&$t.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=le(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace($t,"$1"+r):!1!==t.jsonp&&(t.url+=(_t.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||he.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},i.always(function(){void 0===o?he(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Kt.push(r)),s&&le(o)&&o(s[0]),s=o=void 0}),"script"}),ce.createHTMLDocument=((Xt=J.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Xt.childNodes.length),he.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(ce.createHTMLDocument?((i=(t=J.implementation.createHTMLDocument("")).createElement("base")).href=J.location.href,t.head.appendChild(i)):t=J),o=!n&&[],(r=we.exec(e))?[t.createElement(r[1])]:(r=w([e],t,o),o&&o.length&&he(o).remove(),he.merge([],r.childNodes)));var i,r,o},he.fn.load=function(e,t,n){var i,r,o,s=this,a=e.indexOf(" ");return-1<a&&(i=z(e.slice(a)),e=e.slice(0,a)),le(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<s.length&&he.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?he("<div>").append(he.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){he.fn[t]=function(e){return this.on(t,e)}}),he.expr.pseudos.animated=function(e){return he.grep(he.timers,function(t){return e===t.elem}).length},he.offset={setOffset:function(e,t,n){var i,r,o,s,a,u,c=he.css(e,"position"),l=he(e),d={};"static"===c&&(e.style.position="relative"),a=l.offset(),o=he.css(e,"top"),u=he.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(o+u).indexOf("auto")?(s=(i=l.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),le(t)&&(t=t.call(e,n,he.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):l.css(d)}},he.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){he.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===he.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===he.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=he(e).offset()).top+=he.css(e,"borderTopWidth",!0),r.left+=he.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-he.css(i,"marginTop",!0),left:t.left-r.left-he.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===he.css(e,"position");)e=e.offsetParent;return e||je})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;he.fn[e]=function(i){return Ce(this,function(e,i,r){var o;if(de(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),he.each(["top","left"],function(e,t){he.cssHooks[t]=R(ce.pixelPosition,function(e,n){if(n)return n=D(e,t),ot.test(n)?he(e).position()[t]+"px":n})}),he.each({Height:"height",Width:"width"},function(e,t){he.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){he.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return Ce(this,function(t,n,r){var o;return de(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?he.css(t,n,a):he.style(t,n,r,a)},t,s?r:void 0,s)}})}),he.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){he.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}),he.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),he.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),he.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),le(e))return i=ee.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(ee.call(arguments)))}).guid=e.guid=e.guid||he.guid++,r},he.holdReady=function(e){e?he.readyWait++:he.ready(!0)},he.isArray=Array.isArray,he.parseJSON=JSON.parse,he.nodeName=o,he.isFunction=le,he.isWindow=de,he.camelCase=p,he.type=i,he.now=Date.now,he.isNumeric=function(e){var t=he.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return he});var Yt=e.jQuery,Qt=e.$;return he.noConflict=function(t){return e.$===he&&(e.$=Qt),t&&e.jQuery===he&&(e.jQuery=Yt),he},t||(e.jQuery=e.$=he),he}),define("jquery-private",["jquery"],function(e){return e.noConflict()}),define("constants",["shared/constants","jquery"],function(e,t){var n={localPath:"./",localToReaderRootPath:"../",yuduBook:"../yuduBook.json",readerPage:"../index.html",errorPage:"./error.html",baseResourcesFolder:"../resources/",baseRequiredFolder:"../required/",toolbarElementId:"yudu_articleToolbar",toolbarRightAlignedContainerId:"yudu_articleToolbarRightControls",toolbarIconBasePath:"../resources/phoneview/artwork/",toolbarIconFileExtension:".png",toolbarIconHighResPrefix:"high_",articleFrameId:"articleFrame",noAccessArticleFile:"assets/noAccess.html",emptyFunction:function(){}};return t.extend(e,n)}),define("shared/global/document",[],function(){return document}),define("shared/global/screen",[],function(){return screen}),define("shared/global/window",[],function(){return window}),define("has",[],function(){return function(){return!1}}),define("shared/device",["shared/global/document","shared/global/screen","shared/global/window","has"],function(e,t,n,i){var r=null,o={desktop:"desktop",tablet:"tablet",phone:"phone"},s=function(){var i=this;i.types=o;var s=null;i.setupLibraries=function(e){r=e},i.startDeviceDetectionAsyncChecks=function(){var e={};return"getBattery"in n.navigator&&(e.batteryManagerPromise=n.navigator.getBattery().then(u)),e},i.classify=function(){if(r){if(r.ios)return r.iphone?o.phone:o.tablet;if(r.mobile)return o.phone;if(r.tablet)return o.tablet}var e=new a;return!i.mayBeTouchCapable()&&e.mayBe(o.desktop)?o.desktop:(!0===s&&e.eliminate(o.desktop),e.bestGuess())};var a=function(e){var n=this,i=function(){for(var e in o)o.hasOwnProperty(e)&&(n[e]=!0,n.count++)},r=function(e){for(var t in o)o.hasOwnProperty(t)&&(n[t]=e.mayBe(t),n[t]&&n.count++)};n.eliminate=function(e){o[e]==e&&n.mayBe[e]&&(n[e]=!1,n.count--)},n.mayBe=function(e){return n[e]},n.bestGuess=function(){if(n.count<=1)return n.byElimination();var e=Math.sqrt(Math.pow(t.width,2)+Math.pow(t.height,2));return e<864?n.byElimination(!0):e>2016?n.byElimination(!1):o.tablet},n.byElimination=function(e){if(e){if(n.mayBe(o.phone))return o.phone;if(n.mayBe(o.tablet))return o.tablet;if(n.mayBe(o.desktop))return o.desktop}else{if(n.mayBe(o.desktop))return o.desktop;if(n.mayBe(o.tablet))return o.tablet;if(n.mayBe(o.phone))return o.phone}return o.tablet},function(){n.count=0,e instanceof a?r(e):i()}()};i.mayBeTouchCapable=function(){return"ontouchstart"in n||n.navigator.pointerEnabled&&n.navigator.maxTouchPoints>1||n.navigator.msPointerEnabled&&n.navigator.msMaxTouchPoints>1||n.DocumentTouch&&e instanceof DocumentTouch};var u=function(e){e&&"boolean"==typeof e.charging&&(s=e.dischargingTime!=1/0)}},a=new s;return a}),define("shared/config",[],function(){var e=function(e){var t=e;this.shouldUseHighRes=function(){return t.pixelDensity>=1.5}};return new function(){var t=this;t.__helpers=new e(t);t.width=800,t.height=450,t.pixelDensity=window.devicePixelRatio||1,t.shouldUseHighRes=t.__helpers.shouldUseHighRes,t.isDesktop=!1,t.clickAction=!1,t.deviceUsesClicks=!0,t.urlNavigationTarget="_blank",t.nativeAndroidGoogleAnalyticsEnabled=!1,t.queryObject={},t.getQueryObject=function(){return t.queryObject},t.setQueryObject=function(e){t.queryObject=e},t.getFromQuery=function(e){return t.queryObject[e]},t.setIsDesktop=function(e){t.isDesktop=e,t.deviceUsesClicks=e||!("ontouchstart"in document.documentElement),t.clickAction=t.deviceUsesClicks?"click":"touchstart"},t.isLoggedIn=!1}}),define("config",["shared/device","shared/config","jquery"],function(e,t,n){var i=function(){var t=this;t.isTouchDevice=e.mayBeTouchCapable(),t.isDesktop=!t.isTouchDevice,t.currentArticle="",t.currentPage=0,t.articlesDirectory="",t.articlesDirectoryEncrypted=""};return n.extend(t,new i)}),define("shared/utils/appUtils",[],function(){return new function(){var e=this;e.nativeWrapperPrefixPrototcol="yudu:",e.nativeWindowsAdditionalPrefixPrototcol="ms-appx-web:///",e.isThisAnApp=function(t){return t&&"true"===t.isApp||e.deviceType.isMetro()||e.deviceType.isAndroid()},e.deviceType={isMetro:function(){return window.yuduinterface&&window.yuduinterface.getPlatform?"windows"===window.yuduinterface.getPlatform():window.external&&"notify"in window.external},isAndroid:function(){return window.yuduinterface&&"android"===window.yuduinterface.getPlatform()}},e.getVersion=function(t){var n,i,r,o,s=t.components.app;if(e.deviceType.isAndroid()||e.deviceType.isMetro()){s=e.deviceType.isAndroid()?t.components.appAndroid:t.components.appWindows;var a=window.top.yuduinterface&&window.top.yuduinterface.getVersion&&window.top.yuduinterface.getVersion()||0;o=a%100,a=Math.floor(a/100),r=a%100,a=Math.floor(a/100),i=a%100,n=Math.floor(a/100)}return new t.VersionNumber(s,n,i,r,o)};var t="_uninitialised",n={};e.targets={_uninitialised:"_uninitialised",_native:"_native",_app:"_app",htmlReader:"htmlReader",articleView:"articleView"},e.designateOrigin=function(n){return e.targets[t]===t&&(t=n,!0)},e.registerMessageResponder=function(e,t){"function"==typeof t&&(n[e]=t)},e.sendMessage=function(n,r,o){var s=e.prepareMessage(n,r,o);""!==s&&(t===r?e.api.handleMessage(s):i(s))};var i=function(t){t.length>2e3&&e.deviceType.isMetro()?r(t):s(t)};e.prepareMessage=function(n,i,r){var o="";return t===e.targets._uninitialised?o:"string"!=typeof n||e.targets[i]!==i?o:(r=r||{},e.deviceType.isMetro()&&(o+="ms-appx-web:///"),o+=["yudu",n,i,t,encodeURIComponent(JSON.stringify(r))].join(":"))};var r=function(n){for(var i=c(100,999),r=o(n,!0),a=0;a<r.length;a++){var u={mmid:i,mmcp:a,mmtn:r.length,mmmp:r[a]},l=["ms-appx-web:///yudu","multipart-v2",e.targets._native,t,encodeURIComponent(JSON.stringify(u))].join(":");s(l)}},o=function(e,t,n){void 0===n&&(void 0===t?(n=1970,t=!1):n=1830);var i;i=t?encodeURIComponent(e):e;for(var r=0,o=[];r<i.length;){var s=r+n,a=i.substring(r,s),u=a.indexOf("%",a.length-2);u>=0&&a.length==n&&(s=r+u,a=i.substring(r,s)),o.push(a),r=s}return t&&(o=o.map(decodeURIComponent)),o},s=function(e){window.location.href=e};e.handleMessage=function(t){var n=e.parseMessage(t);a(n.messageType,n.origin,n.parameters)},e.parseMessage=function(e){e=u(e);var t=e.split(":",4);if(t.length<4)return{};var n=":".length*t.length;t.map(function(e){n+=e.length});var i=JSON.parse(decodeURIComponent(e.substring(n)));return{prefix:t[0],messageType:t[1],intendedTarget:t[2],origin:t[3],parameters:i}};var a=function(e,t,i){n[e]&&n[e](t,i)},u=function(t){return t.substr(0,e.nativeWindowsAdditionalPrefixPrototcol.length)===e.nativeWindowsAdditionalPrefixPrototcol&&(t=t.substr(e.nativeWindowsAdditionalPrefixPrototcol.length)),t},c=function(e,t){var n=Math.floor(Math.random()*(t-e+1))+e;return Date.now().toString(36).toUpperCase()+"-"+n};e.api={},e.api.handleMessage=e.handleMessage,e.api.parseMessage=e.parseMessage}}),define("shared/utils/queryStringUtils",[],function(){return new function(){var e=this;e.splitUrl=function(e){var t={},n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var i=e.indexOf("?");return i>=0&&(t.query=e.substr(i),e=e.substr(0,i)),t.url=e,t},e.joinUrl=function(e){var t=e.url;return e.query&&("?"!==e.query.charAt(0)&&(t+="?"),t+=e.query),e.hash&&("#"!==e.hash.charAt(0)&&(t+="#"),t+=e.hash),t},e.parseQueryString=function(t,n){return"?"===t.charAt(0)&&(t=t.slice(1)),t.length?n?e.parseQueryStringComplex(t,n):e.parseQueryStringSimple(t):{}},e.parseQueryStringSimple=function(e){for(var t={},n=e.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");2===r.length&&(t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," ")))}return t},e.parseQueryStringComplex=function(e,t){for(var n=!!t.assumeSanity,i=!!t.allowMultiples,r=!!t.trueForValueless,o=!!r||(void 0!==t.customValueless?t.customValueless:""),s={},a=e.split("&"),u=0;u<a.length;u++){var c=a[u].split("="),l=c[0];if(n||!(l.length<1)){var d=!1,f=o;if(c.length>1){var p;p=n?c[1]:c.slice(1).join("="),p.length>0&&(f=decodeURIComponent(p.replace(/\+/g," ")),d=!0)}i?(s[l]||(s[l]=[]),s[l].push(f)):(d||void 0===s[l])&&(s[l]=f)}}return s},e.stringifyQueryStringHash=function(e){var n=!1,i=!1,r="";for(var o in e)if(e.hasOwnProperty(o)){var s=e[o],a=n?"&":"?";n||("object"==typeof s&&(i=!0),n=!0);try{a+=t(o,s,!i),r+=a}catch(e){r.length<1&&(n=!1)}}return r};var t=function(e,n,i){var r="";if(i){if(r+=e,!0===n)return r;if("string"!=typeof n)throw"Invalid query string format";r+="="+encodeURIComponent(n).replace(/ /g,"+")}else{if(!n.length)throw"Invalid query string format";for(var o=0;o<n.length;o++)o>0&&(r+="&"),r+=t(e,n[o],!0)}return r};e.addQueryStringToURL=function(e,t){if(!e)return e;var n=e.lastIndexOf("?"),i=e.lastIndexOf("&"),r="";return-1==n?r="?":n!=e.length-1&&i!=e.length-1&&(r="&"),e+r+t},e.addToUrlQueryString=function(e,t){var n=[];for(var i in t)if(t.hasOwnProperty(i)){if("string"!=typeof t[i])continue;n.push(i+"="+t[i])}if(n.length<1)return e;var r=e.lastIndexOf("?"),o=e.lastIndexOf("&");return-1==r?e+="?":r!=e.length-1&&o!=e.length-1&&(e+="&"),e+n.join("&")},e.addRandomQueryStringParameter=function(t,n){var i=Math.random().toString(36).substr(2),r={};return r[n]=i,e.addToUrlQueryString(t,r)},e.replaceForKeyInQuery=function(t,n,i){var r={};return r[n]=i,e.replaceInQuery(t,r,!1)},e.replaceInQuery=function(t,n,i){var r;if(t.query){var o={allowMultiples:i,trueForValueless:!0};r=e.parseQueryString(t.query,o)}else r={};for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s]);var a={url:t.url};return a.query=e.stringifyQueryStringHash(r),t.hash&&(a.hash=t.hash),a}}}),define("shared/utils/utils",[],function(){return new function(){var e=this;e.getLeafOrUndefined=function(e){if(arguments.length<1)throw"Exception: Invalid number of arguments.";if(void 0===e)return e;for(var t=e,n=1,i=arguments.length;n<i;n++){try{t=t[arguments[n]]}catch(e){return}if(void 0===t)return}return t},e.combinePaths=function(){for(var e="",t=0,n=arguments.length;t<n;t++){var i=arguments[t];if(void 0!==i){if(0!==t){var r="/"===e[e.length-1],o="/"===i[0];r||o?r&&o&&(i=i.substr(1,i.length)):e+="/"}e+=i}}return e},e.debounce=function(e,t,n,i){var r,o=function(){var o=this,s=arguments,a=function(){r=null,n||e.apply(o,s)},u=n&&!r;return clearTimeout(r),r=setTimeout(a,t),u?e.apply(o,s):i};return o.clearTimeout=function(){r&&(clearTimeout(r),r=null)},o.isActive=function(){return!!r},o},e.performanceCriticalDebounce=function(e,t){var n,i,r=null,o=null,s=function(){r=null,n=void 0,i=void 0,o=null},a=function(){if(n=this,i=arguments,null!==o)return void(r=Date.now());o=setTimeout(c,t)},u=function(){if(null!==r){var a=t-(Date.now()-r);return a=a<30?30:a,o=setTimeout(c,a),void(r=null)}n?e.apply(n,i):e(),s()},c=function(){requestAnimationFrame(u)};return a.clearTimeout=function(){o&&(clearTimeout(o),s())},a.isActive=function(){return!!o},a},e.throttle=function(e,t){var n=!1;return function(){var i;return n||(i=e.call(),n=!0,setTimeout(function(){n=!1},t)),i}}}}),define("shared/utils/versionUtils",[],function(){return new function(){var e=this;e.components={reader:"reader",app:"app",appAndroid:"appAndroid",appWindows:"appWindows"},e.VersionNumber=function(e,t,n,i,r){var o=this;o.class="VERSION_NUMBER";var s=function(e){var t=0;if(void 0!==e){try{t=parseInt(e)}catch(e){}isNaN(t)&&(t=0)}return t};o.component=e,o.major=s(t),o.minor=s(n),o.build=s(i),o.revision=s(r),o.isValid=function(){return o.major>0||o.minor>0||o.build>0},o.assertCanCompareTo=function(e){if(!e.class||e.class!==o.class)throw"Invalid comparison target"},o.compareTo=function(e){return o.assertCanCompareTo(e),o.major>e.major?1:o.major<e.major?-1:o.minor>e.minor?1:o.minor<e.minor?-1:o.build>e.build?1:o.build<e.build?-1:o.revision>e.revision?1:o.revision<e.revision?-1:0}},e.VersionNumber.prototype.toString=function(){var t=[this.major,this.minor,this.build].join(".");return this.component!==e.components.reader&&(t+="."+this.revision),t},e.parseVersionString=function(t,n){var i,r,o,s=n.split("."),a=s[0];return s.length>1&&(i=s[1]),s.length>2&&(r=s[2]),s.length>3&&(o=s[3]),new e.VersionNumber(t,a,i,r,o)}}}),define("shared/version",["shared/utils/appUtils","shared/utils/utils","shared/utils/versionUtils"],function(e,t,n){var i="4.3.49";11==i.length&&"-!version"===i.substring(0,9)&&"!-"===i.substring(9,11)&&(i="9007199254740991");var r=function(t){var i=this,r=n.parseVersionString(n.components.reader,t),o=!1;i.features={phoneview:"phoneview",speakerNotes:"speakerNotes"};var s={};i.getVersion=function(){return r},i.getAppVersion=function(){return!1===o&&(o=e.getVersion(n)),o},i.getForComponent=function(e){switch(e){case n.components.reader:return i.getVersion();case n.components.app:case n.components.appAndroid:case n.components.appWindows:if(i.getAppVersion().component===e)return i.getAppVersion()}return!1};var a=function(e){var t=u[e];if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=i.getForComponent(n);if(r&&r.compareTo(t[n])<0)return void(s[e]=!1)}s[e]=!0};i.checkFeatureCompatibility=function(e){return void 0===s[e]&&a(e),s[e]};var u={},c=function(e,t,i){u[e]||(u[e]={}),u[e][t]=new n.VersionNumber(t,i[0],i[1],i[2],i[3])};c(i.features.phoneview,n.components.appAndroid,[10,2]),c(i.features.phoneview,n.components.appWindows,[1,3,0]),c(i.features.speakerNotes,n.components.appWindows,[1,3,1])},o=new r(i);return Object.defineProperty(window,"yudu_readerVersion",{get:function(){return o.getVersion().toString()}}),o}),define("comms",["constants","config","shared/utils/appUtils","shared/utils/queryStringUtils","shared/version"],function(e,t,n,i,r){return new function(){var o=this;o.modes={reader:"reader",windowsNativeApp:"windowsNativeApp",androidNativeApp:"androidNativeApp",standalone:"standalone"},o.mode=o.modes.standalone,o.init=function(){n.designateOrigin(n.targets.articleView),s()};var s=function(){"reader"===t.queryObject.origin||(n.deviceType.isMetro()&&r.checkFeatureCompatibility(r.features.phoneview)?o.mode=o.modes.windowsNativeApp:n.deviceType.isAndroid()&&(o.mode=o.modes.androidNativeApp))};o.returnToEdition=function(e){if(o.mode===o.modes.standalone)return void o.returnToEditionStandalone(e);a("exitArticleView",e)},o.returnToEditionStandalone=function(t){var n=i.addQueryStringToURL(e.readerPage,"preventInfoPage=true");n=i.addQueryStringToURL(n,"origin=article"),t.page&&(n=i.addQueryStringToURL(n,"page="+t.page)),t.phoneviewCriticalError?(n=i.addQueryStringToURL(n,"phoneviewCriticalError="+t.phoneviewCriticalError),window.location.replace(n)):window.top.location=n};var a=function(e,t){switch(o.mode){case o.modes.reader:return void window.parent.postMessage(n.prepareMessage(e,n.targets.htmlReader,t),"*");case o.modes.androidNativeApp:case o.modes.windowsNativeApp:n.sendMessage(e,n.targets._app,t)}}}}),define("shared/eventManager",[],function(){var e=function(e,t,n,i,r){this.emitterName=e,this.type=t,this.target=n,this.data=i,this.async=r},t=function(){var n=this;n.__ALL="*",n.__Constructor=t,n.__EventConstructor=e;n.topics={},n.topics["*"]={},n.register=function(e){return void 0==n.topics[e]&&(n.topics[e]={},!0)},n.subscribe=function(e,t,i,r){var o=n.register(e);return n.ensureTopicExists(e,t),n.topics[e][t][n.getSyncType(r)].push(i),o},n.unsubscribe=function(e,t,i,r){if(void 0!=n.topics[e]&&void 0!=n.topics[e][t]){var o=n.topics[e][t][n.getSyncType(r)].indexOf(i);o>-1&&n.topics[e][t][n.getSyncType(r)].splice(o,1)}},n.getSyncType=function(e){return e?"async":"sync"},n.emit=function(t,i,r,o){n.register(t),n.ensureTopicExists(t,i);var s=[],a=[],u=new e(t,i,r,o,!0),c=new e(t,i,r,o,!1);if("*"!=t)s=s.concat(n.topics[t][i].async),a=a.concat(n.topics[t][i].sync),s=s.concat(n.topics["*"][i].async),a=a.concat(n.topics["*"][i].sync);else for(var l in n.topics)void 0!=n.topics[l][i]&&(s=s.concat(n.topics[l][i].async),a=a.concat(n.topics[l][i].sync));for(var d=0;d<s.length;d++)n.rawEmit(u,s[d]);for(d=0;d<a.length;d++)n.rawEmit(c,a[d])},n.rawEmit=function(e,t){e.async?setTimeout(function(){t(e)},0):t(e)},n.ensureTopicExists=function(e,t){void 0==n.topics[e][t]&&(n.topics[e][t]={},n.topics[e][t].async=[],n.topics[e][t].sync=[]),"*"!=e&&void 0==n.topics["*"][t]&&(n.topics["*"][t]={},n.topics["*"][t].async=[],n.topics["*"][t].sync=[])},n.isSubscribed=function(e,t,i,r){return void 0!=n.topics[e]&&void 0!=n.topics[e][t]&&n.topics[e][t][n.getSyncType(r)].indexOf(i)>-1},n.bind=function(e){e.subscribe=n.subscribe,e.unsubscribe=n.unsubscribe,e.emit=n.emit,e.register=n.register,e.rawEmit=n.rawEmit,e.getSyncType=n.getSyncType,e.isSubscribed=n.isSubscribed}};return new t}),define("shared/utils/eventUtils",[],function(){return{callback:function(e,t){var n=e,i=t,r=Array.prototype.slice.call(arguments,2);return r.length>0?function(){return i.apply(n,r.concat(Array.prototype.slice.call(arguments)))}:function(){return i.apply(n,arguments)}},yuduAddEventListener:function(e){var t=Array.prototype.slice.call(arguments,1);e.addEventListener.apply(e,t)},yuduOn:function(e){var t=Array.prototype.slice.call(arguments,1);e.on.apply(e,t)}}}),define("shared/events",["shared/utils/eventUtils","jquery"],function(e,t){var n={CRITICAL_ERROR:"criticalError",YUDU_BOOK_LOADED:"yuduBookLoaded",TAP:"tap",LOADING_ACTIONS_DONE:"loadingActionsDone",RESIZE:"resize",REQUEST_LOGIN_DETAILS:"requestLoginDetails",CHANGE_FOR_LOGIN_DETAILS:"changeForLoginDetails",LOGIN_DETAILS_CHANGED:"loginDetailsChanged",
LOGIN_SUCCESS:"loginSuccess",SHOW_LOGIN:"showLogin",NEEDS_BACKGROUND_LOGIN_ATTEMPT:"needsBackgroundLoginAttempt",SHOWHIDE_TOOLBAR:"showhideToolbar",SHARE_TO:{EMAIL:"email",FACEBOOK:"facebook",TWITTER:"twitter",LINKED_IN:"linkedIn"},SHARE_EMAIL_DIALOG_OPEN:"shareEmailOpen",SHARE_EMAIL_DIALOG_CLOSE:"shareEmailClose",CLOSE_ACTIVE:"closeActive",SAML_REQUEST_RECEIVED:"samlRequestReceived",SAML_AUTH_TOKEN_VALIDATION_RESPONSE_RECEIVED:"samlAuthTokenValidationResponseReceived"};return new function(){var i=this;t.extend(i,n),i.callback=e.callback,i.yuduAddEventListener=e.yuduAddEventListener,i.yuduOn=e.yuduOn}}),define("events",["shared/eventManager","shared/events"],function(e,t){return window.yudu_events=function(){var n=t;return n.SOFT_ERROR="softError",n.BRANDABLE_TOOLBAR_LOADED="brandableToolbarLoaded",n.BRANDABLE_SHARING_CONTROLS_LOADED="brandableSharingControlsLoaded",n.TOC_LOADED="tocLoaded",n.RETURN_TO_READER="returnToReader",n.TOGGLE_TOC="toggleToc",n.NEXT_ARTICLE="nextArticle",n.PREVIOUS_ARTICLE="previousArticle",n.OPEN_ARTICLE="openArticle",n.SCROLL_TO_ANCHOR="scrollToAnchor",n.INCREASE_TEXT_SIZE="increaseTextSize",n.DECREASE_TEXT_SIZE="decreaseTextSize",n.DEVICE_TYPE_CHANGED="deviceTypeChanged",n.SHARE="share",n.SCROLL="scroll",n.OPEN_TOGGLABLE="openTogglable",n.BUTTON_TRIGGER_KEY_PRESSED="buttonTriggerKeyPressed",n.LOGOUT="logout",e.bind(n),n.ALL=e.__ALL,n}(),window.yudu_events}),define("contentFrameManager",[],function(){return new function e(){if(!(this instanceof e))return new e;this.createFrame=function(e){var t=document.createElement("div");if(e[0].appendChild(t),navigator.userAgent.match(/(iPad|iPhone|iPod)/g)){var n=document.createElement("div");n.appendChild(t);var i=document.createElement("div");i.classList.add("ios"),i.appendChild(n),e.append(i)}else e.append(t);return t}}}),define("shared/hammerManager",[],function(){return new function(){var e=this,t=null;e.recogniserPresets={TAP_ONLY:[]},e.setupLibraries=function(n){t=n,e.createPresetsObject(e.recogniserPresets)},e.createPresetsObject=function(e){e.TAP_ONLY=[[t.Tap]]},e.createManager=function(e){return t?new t(e):null},e.createManagerWithRecognisers=function(n,i){return t?i?new t.Manager(n,{recognizers:i}):e.createManager(n):null},e.createManagerForDoubleTap=function(n){var i=e.createManagerWithRecognisers(n,null);return i.add(new t.Tap({event:"doubletap",taps:2,posThreshold:20,interval:200})),i.add(new t.Tap({event:"tap",taps:1,interval:600})),i.get("doubletap").recognizeWith("tap"),i.get("tap").requireFailure("doubletap"),i},e.createManagerWithOptions=function(n,i){return t?i?new t.Manager(n,i):e.createManager(n):null},e.createTapManager=function(t){return e.createManagerWithRecognisers(t,e.recogniserPresets.TAP_ONLY)},e.createPinchManager=function(t){var n=e.createManagerWithRecognisers(t,null);return n.get("pinch").set({enable:!0}),n}}}),function(e,t,n,i){"use strict";function r(e,t,n){return setTimeout(c(e,n),t)}function o(e,t,n){return!!Array.isArray(e)&&(s(e,n[t],n),!0)}function s(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==i)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function a(t,n,i){var r="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=e.console&&(e.console.warn||e.console.log);return o&&o.call(e.console,r,i),t.apply(this,arguments)}}function u(e,t,n){var i,r=t.prototype;i=e.prototype=Object.create(r),i.constructor=e,i._super=r,n&&le(i,n)}function c(e,t){return function(){return e.apply(t,arguments)}}function l(e,t){return typeof e==pe?e.apply(t?t[0]||i:i,t):e}function d(e,t){return e===i?t:e}function f(e,t,n){s(m(t),function(t){e.addEventListener(t,n,!1)})}function p(e,t,n){s(m(t),function(t){e.removeEventListener(t,n,!1)})}function h(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function g(e,t){return e.indexOf(t)>-1}function m(e){return e.trim().split(/\s+/g)}function v(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function y(e){return Array.prototype.slice.call(e,0)}function b(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];v(r,s)<0&&i.push(e[o]),r[o]=s,o++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function w(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),s=0;s<de.length;){if(n=de[s],(r=n?n+o:t)in e)return r;s++}return i}function T(){return be++}function x(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}function E(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){l(e.options.enable,[e])&&n.handler(t)},this.init()}function A(e){var t=e.options.inputClass;return new(t||(xe?U:Ee?F:Te?W:B))(e,k)}function k(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=t&Le&&i-r==0,s=t&(Ie|_e)&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(e.session={}),n.eventType=t,S(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function S(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=I(t)),r>1&&!n.firstMultiple?n.firstMultiple=I(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,u=t.center=_(i);t.timeStamp=me(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=N(a,u),t.distance=R(a,u),L(n,t),t.offsetDirection=D(t.deltaX,t.deltaY);var c=O(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=ge(c.x)>ge(c.y)?c.x:c.y,t.scale=s?P(s.pointers,i):1,t.rotation=s?M(s.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,C(n,t);var l=e.element;h(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function L(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};t.eventType!==Le&&o.eventType!==Ie||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}function C(e,t){var n,r,o,s,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(t.eventType!=_e&&(u>Se||a.velocity===i)){var c=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,d=O(u,c,l);r=d.x,o=d.y,n=ge(d.x)>ge(d.y)?d.x:d.y,s=D(c,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,o=a.velocityY,s=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=s}function I(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:he(e.pointers[n].clientX),clientY:he(e.pointers[n].clientY)},n++;return{timeStamp:me(),pointers:t,center:_(t),deltaX:e.deltaX,deltaY:e.deltaY}}function _(e){var t=e.length;if(1===t)return{x:he(e[0].clientX),y:he(e[0].clientY)};for(var n=0,i=0,r=0;t>r;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:he(n/t),y:he(i/t)}}function O(e,t,n){return{x:t/e||0,y:n/e||0}}function D(e,t){return e===t?Oe:ge(e)>=ge(t)?0>e?De:Re:0>t?Ne:Me}function R(e,t,n){n||(n=je);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function N(e,t,n){n||(n=je);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}function M(e,t){return N(t[1],t[0],qe)+N(e[1],e[0],qe)}function P(e,t){return R(t[0],t[1],qe)/R(e[0],e[1],qe)}function B(){this.evEl=He,this.evWin=We,this.pressed=!1,E.apply(this,arguments)}function U(){this.evEl=Ge,this.evWin=Xe,E.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function j(){this.evTarget=$e,this.evWin=Ye,this.started=!1,E.apply(this,arguments)}function q(e,t){var n=y(e.touches),i=y(e.changedTouches);return t&(Ie|_e)&&(n=b(n.concat(i),"identifier",!0)),[n,i]}function F(){this.evTarget=Je,this.targetIds={},E.apply(this,arguments)}function H(e,t){var n=y(e.touches),i=this.targetIds;if(t&(Le|Ce)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=y(e.changedTouches),a=[],u=this.target;if(o=n.filter(function(e){return h(e.target,u)}),t===Le)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),t&(Ie|_e)&&delete i[s[r].identifier],r++;return a.length?[b(o.concat(a),"identifier",!0),a]:void 0}function W(){E.apply(this,arguments);var e=c(this.handler,this);this.touch=new F(this.manager,e),this.mouse=new B(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function z(e,t){e&Le?(this.primaryTouch=t.changedPointers[0].identifier,V.call(this,t)):e&(Ie|_e)&&V.call(this,t)}function V(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches,r=function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)};setTimeout(r,Ze)}}function G(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),s=Math.abs(n-r.y);if(et>=o&&et>=s)return!0}return!1}function X(e,t){this.manager=e,this.set(t)}function K(e){if(g(e,st))return st;var t=g(e,at),n=g(e,ut);return t&&n?st:t||n?t?at:ut:g(e,ot)?ot:rt}function $(e){this.options=le({},this.defaults,e||{}),this.id=T(),this.manager=null,this.options.enable=d(this.options.enable,!0),this.state=lt,this.simultaneous={},this.requireFail=[]}function Y(e){return e&gt?"cancel":e&pt?"end":e&ft?"move":e&dt?"start":""}function Q(e){return e==Me?"down":e==Ne?"up":e==De?"left":e==Re?"right":""}function J(e,t){var n=t.manager;return n?n.get(e):e}function Z(){$.apply(this,arguments)}function ee(){Z.apply(this,arguments),this.pX=null,this.pY=null}function te(){Z.apply(this,arguments)}function ne(){$.apply(this,arguments),this._timer=null,this._input=null}function ie(){Z.apply(this,arguments)}function re(){Z.apply(this,arguments)}function oe(){$.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function se(e,t){return t=t||{},t.recognizers=d(t.recognizers,se.defaults.preset),new ae(e,t)}function ae(e,t){this.options=le({},se.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=A(this),this.touchAction=new X(this,this.options.touchAction),ue(this,!0),s(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ue(e,t){var n=e.element;if(n.style){var i;s(e.options.cssProps,function(r,o){i=w(n.style,o),t?(e.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=e.oldCssProps[i]||""}),t||(e.oldCssProps={})}}function ce(e,n){var i=t.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var le,de=["","webkit","Moz","MS","ms","o"],fe=t.createElement("div"),pe="function",he=Math.round,ge=Math.abs,me=Date.now;le="function"!=typeof Object.assign?function(e){if(e===i||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Object.assign;var ve=a(function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===i)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),ye=a(function(e,t){return ve(e,t,!0)},"merge","Use `assign`."),be=1,we=/mobile|tablet|ip(ad|hone|od)|android/i,Te="ontouchstart"in e,xe=w(e,"PointerEvent")!==i,Ee=Te&&we.test(navigator.userAgent),Ae="touch",ke="mouse",Se=25,Le=1,Ce=2,Ie=4,_e=8,Oe=1,De=2,Re=4,Ne=8,Me=16,Pe=De|Re,Be=Ne|Me,Ue=Pe|Be,je=["x","y"],qe=["clientX","clientY"];E.prototype={handler:function(){},init:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(x(this.element),this.evWin,this.domHandler)}};var Fe={mousedown:Le,mousemove:Ce,mouseup:Ie},He="mousedown",We="mousemove mouseup";u(B,E,{handler:function(e){var t=Fe[e.type];t&Le&&0===e.button&&(this.pressed=!0),t&Ce&&1!==e.which&&(t=Ie),this.pressed&&(t&Ie&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:ke,srcEvent:e}))}});var ze={pointerdown:Le,pointermove:Ce,pointerup:Ie,pointercancel:_e,pointerout:_e},Ve={2:Ae,3:"pen",4:ke,5:"kinect"},Ge="pointerdown",Xe="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Ge="MSPointerDown",Xe="MSPointerMove MSPointerUp MSPointerCancel"),u(U,E,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=ze[i],o=Ve[e.pointerType]||e.pointerType,s=o==Ae,a=v(t,e.pointerId,"pointerId");r&Le&&(0===e.button||s)?0>a&&(t.push(e),a=t.length-1):r&(Ie|_e)&&(n=!0),0>a||(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(a,1))}});var Ke={touchstart:Le,touchmove:Ce,touchend:Ie,touchcancel:_e},$e="touchstart",Ye="touchstart touchmove touchend touchcancel";u(j,E,{handler:function(e){var t=Ke[e.type];if(t===Le&&(this.started=!0),this.started){var n=q.call(this,e,t);t&(Ie|_e)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ae,srcEvent:e})}}});var Qe={touchstart:Le,touchmove:Ce,touchend:Ie,touchcancel:_e},Je="touchstart touchmove touchend touchcancel";u(F,E,{handler:function(e){var t=Qe[e.type],n=H.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ae,srcEvent:e})}});var Ze=2500,et=25;u(W,E,{handler:function(e,t,n){var i=n.pointerType==Ae,r=n.pointerType==ke;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)z.call(this,t,n);else if(r&&G.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var tt=w(fe.style,"touchAction"),nt=tt!==i,it="compute",rt="auto",ot="manipulation",st="none",at="pan-x",ut="pan-y",ct=function(){if(!nt)return!1;var t={},n=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!n||e.CSS.supports("touch-action",i)}),t}();X.prototype={set:function(e){e==it&&(e=this.compute()),nt&&this.manager.element.style&&ct[e]&&(this.manager.element.style[tt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return s(this.manager.recognizers,function(t){l(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),K(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var i=this.actions,r=g(i,st)&&!ct[st],o=g(i,ut)&&!ct[ut],s=g(i,at)&&!ct[at];if(r){var a=1===e.pointers.length,u=e.distance<2,c=e.deltaTime<250;if(a&&u&&c)return}return s&&o?void 0:r||o&&n&Pe||s&&n&Be?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var lt=1,dt=2,ft=4,pt=8,ht=pt,gt=16;$.prototype={defaults:{},set:function(e){return le(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(o(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=J(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return o(e,"dropRecognizeWith",this)?this:(e=J(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(o(e,"requireFailure",this))return this;var t=this.requireFail;return e=J(e,this),-1===v(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(o(e,"dropRequireFailure",this))return this;e=J(e,this);var t=v(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state;pt>i&&t(n.options.event+Y(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),i>=pt&&t(n.options.event+Y(i))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=32)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|lt)))return!1;e++}return!0},recognize:function(e){var t=le({},e);return l(this.options.enable,[this,t])?(this.state&(ht|gt|32)&&(this.state=lt),this.state=this.process(t),void(this.state&(dt|ft|pt|gt)&&this.tryEmit(t))):(this.reset(),void(this.state=32))},process:function(e){},getTouchAction:function(){},reset:function(){}},u(Z,$,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(dt|ft),r=this.attrTest(e);return i&&(n&_e||!r)?t|gt:i||r?n&Ie?t|pt:t&dt?t|ft:dt:32}}),u(ee,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ue},getTouchAction:function(){var e=this.options.direction,t=[];return e&Pe&&t.push(ut),e&Be&&t.push(at),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,s=e.deltaY;return r&t.direction||(t.direction&Pe?(r=0===o?Oe:0>o?De:Re,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===s?Oe:0>s?Ne:Me,n=s!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return Z.prototype.attrTest.call(this,e)&&(this.state&dt||!(this.state&dt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Q(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),u(te,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[st]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&dt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),u(ne,$,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[rt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(Ie|_e)&&!o)this.reset();else if(e.eventType&Le)this.reset(),this._timer=r(function(){this.state=ht,this.tryEmit()},t.time,this);else if(e.eventType&Ie)return ht;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ht&&(e&&e.eventType&Ie?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=me(),this.manager.emit(this.options.event,this._input)))}}),u(ie,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[st]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&dt)}}),u(re,Z,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Pe|Be,pointers:1},getTouchAction:function(){return ee.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Pe|Be)?t=e.overallVelocity:n&Pe?t=e.overallVelocityX:n&Be&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ge(t)>this.options.velocity&&e.eventType&Ie},emit:function(e){var t=Q(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),u(oe,$,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ot]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&Le&&0===this.count)return this.failTimeout();if(i&&o&&n){if(e.eventType!=Ie)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||R(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,a&&s?this.count+=1:this.count=1,this._input=e;if(0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=r(function(){this.state=ht,this.tryEmit()},t.interval,this),dt):ht}return 32},failTimeout:function(){return this._timer=r(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ht&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),se.VERSION="2.0.8",se.defaults={domEvents:!1,touchAction:it,enable:!0,inputTarget:null,inputClass:null,preset:[[ie,{enable:!1}],[te,{enable:!1},["rotate"]],[re,{direction:Pe}],[ee,{direction:Pe},["swipe"]],[oe],[oe,{event:"doubletap",taps:2},["tap"]],[ne]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ae.prototype={set:function(e){return le(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,r=t.curRecognizer;(!r||r&&r.state&ht)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&n.state&(dt|ft|pt)&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof $)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(o(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(o(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=v(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==i&&t!==i){var n=this.handlers;return s(m(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==i){var n=this.handlers;return s(m(e),function(e){t?n[e]&&n[e].splice(v(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&ce(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&ue(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},le(se,{INPUT_START:Le,INPUT_MOVE:Ce,INPUT_END:Ie,INPUT_CANCEL:_e,STATE_POSSIBLE:lt,STATE_BEGAN:dt,STATE_CHANGED:ft,STATE_ENDED:pt,STATE_RECOGNIZED:ht,STATE_CANCELLED:gt,STATE_FAILED:32,DIRECTION_NONE:Oe,DIRECTION_LEFT:De,DIRECTION_RIGHT:Re,DIRECTION_UP:Ne,DIRECTION_DOWN:Me,DIRECTION_HORIZONTAL:Pe,DIRECTION_VERTICAL:Be,DIRECTION_ALL:Ue,Manager:ae,Input:E,TouchAction:X,TouchInput:F,MouseInput:B,PointerEventInput:U,TouchMouseInput:W,SingleTouchInput:j,Recognizer:$,AttrRecognizer:Z,Tap:oe,Pan:ee,Swipe:re,Pinch:te,Rotate:ie,Press:ne,on:f,off:p,each:s,merge:ye,extend:ve,assign:le,inherit:u,bindFn:c,prefixed:w}),(void 0!==e?e:"undefined"!=typeof self?self:{}).Hammer=se,"function"==typeof define&&define.amd?define("hammer",[],function(){return se}):"undefined"!=typeof module&&module.exports?module.exports=se:e.Hammer=se}(window,document),define("interactions",["constants","events","shared/hammerManager","shared/utils/utils","jquery","hammer"],function(e,t,n,i,r,o){return new function(){var s=this;s.EMITTER_NAME="interactions";var a=!1,u=!0;s.preinit=function(){n.setupLibraries(o)},s.init=function(){a=r("#"+e.articleFrameId),window.onkeydown=c},s.addEventListenersOnArticleFrame=function(){if(!1!==a){var e=a.contents().find("body");e.keydown(c),o(e[0]).on("tap",d),a.contents().scroll(l)}},s.setHotKeysEnabled=function(e){u=e};var c=function(e){if(u)switch(e.which){case 37:case 188:t.emit(s.EMITTER_NAME,t.PREVIOUS_ARTICLE,this,{});break;case 39:case 190:t.emit(s.EMITTER_NAME,t.NEXT_ARTICLE,this,{});break;case 189:case 109:t.emit(s.EMITTER_NAME,t.DECREASE_TEXT_SIZE,this,{});break;case 187:case 107:t.emit(s.EMITTER_NAME,t.INCREASE_TEXT_SIZE,this,{});break;case 13:case 32:t.emit(s.EMITTER_NAME,t.BUTTON_TRIGGER_KEY_PRESSED)}},l=i.debounce(function(){t.emit(s.EMITTER_NAME,t.SCROLL,this,{})},200),d=function(){t.emit(s.EMITTER_NAME,t.TAP,this,{})}}}),define("shared/resources",["shared/events"],function(e){return new function(){var e=this;e.yuduBook=!1,e.toolbarConfig=!1,e.toolbarHtml=!1,e.setYuduBook=function(t){e.yuduBook=t},e.getYuduBook=function(){return e.yuduBook}}}),define("resources",["events","shared/resources","jquery"],function(e,t,n){return new function(){var i=this;n.extend(i,t),i.EMITTER_NAME="resources",i.pageToArticles=!1,i.articleToPages=!1,i.toc=!1,i.toolbarPhoneviewConfig=!1,i.toolbarPhoneviewHtml=!1,i.loaded=function(){return!1!==i.yuduBook&&!1!==i.pageToArticles&&!1!==i.articleToPages},i.pageToArticlesLoadedCallback=function(e){i.pageToArticles=e},i.articleToPagesLoadedCallback=function(e){i.articleToPages=e},i.setYuduBook=function(e){i.yuduBook=e,t.setYuduBook(e)},i.tocLoadedCallback=function(t){i.toc=t,e.emit(i.EMITTER_NAME,e.TOC_LOADED,this,{})}}}),define("shared/loader",["jquery","events"],function(e,t){return new function(){self=this;var n=[],i=-1;self.fetchJson=function(t){var n={Accept:"application/json"};t.parameters.noCacheControlHeader||(n["Cache-control"]="no-cache"),e.ajax({url:t.parameters.src,type:"GET",headers:n,dataType:"json",cache:!1,success:function(e){o(t,e)},error:function(){s(t)}})},self.fetchImage=function(e){var n=new Image;n.onload=t.callback(this,o,e,n),n.onerror=t.callback(this,s,e),n.src=e.parameters.src},self.fetchIFrame=function(e){var n=document.createElement("iframe");n.id=e.parameters.id,n.onload=t.callback(this,o,e,n),n.onerror=t.callback(this,s,e),n.style.display="none",n.src=e.parameters.src,document.body.appendChild(n)},self.fetchHtml=function(t){e.ajax({url:t.parameters.src,type:"GET",headers:{Accept:"text/html"},dataType:"html",success:function(e){o(t,e)},error:function(){s(t)}})},self.makeAction=function(e,t,i,r,o,s){s=s||!1,o=o||0,r=r||null;var a={name:e,method:t,parameters:i,retries:o,onComplete:r,optional:s,done:!1,failed:!1};n.push(a)};var r=function(e){e.method(e)},o=function(i,r){if(i.done=!0,!i.failed&&i.onComplete&&i.onComplete(r),0==e.grep(n,function(e){return!e.done}).length){if(e.grep(n,function(e){return e.failed}).length>0)return void t.emit("loadingActions",t.CRITICAL_ERROR,this,{});self.loadNextStep()}},s=function(e){if(e.retries-=1,e.retries>0)return e.parameters.altSrc&&(e.parameters.src=e.parameters.altSrc),void r(e);e.optional||(e.failed=!0),o(e)};self.loadNextStep=function(){var e=self.getAllSteps();if(!(i>=e.length-1))if(n=[],i+=1,e[i](),n.length>0)for(var t=0,o=n.length;t<o;t++)r(n[t]);else self.loadNextStep()},self.getAllSteps=function(){return[]}}}),define("loading",["constants","resources","events","shared/loader","shared/utils/utils","jquery"],function(e,t,n,i,r,o){var s=i.fetchJson,a=(i.fetchImage,i.fetchIFrame,i.fetchHtml),u=i.makeAction,c=i.loadNextStep;i.getAllSteps=function(){return[d,p,h,f,g]};var l=null,d=function(){u("yuduBook",s,{src:l},m,e.maxYuduBookFetchAttempts)},f=function(){phoneviewSettings=r.getLeafOrUndefined(t.yuduBook,"settings","phoneview");var n=r.combinePaths(e.localToReaderRootPath,r.getLeafOrUndefined(phoneviewSettings,"pageToArticleMapping")),i=r.combinePaths(e.localToReaderRootPath,r.getLeafOrUndefined(phoneviewSettings,"articleToPageMapping"));if(u("pageToArticlesMapping",s,{src:n},t.pageToArticlesLoadedCallback,e.maxYuduBookFetchAttempts),u("articlesToPageMapping",s,{src:i},t.articleToPagesLoadedCallback,e.maxYuduBookFetchAttempts),r.getLeafOrUndefined(phoneviewSettings,"tocAvailable")){var o=r.combinePaths(e.localToReaderRootPath,r.getLeafOrUndefined(phoneviewSettings,"toc"));u("toc",s,{src:o},t.tocLoadedCallback,e.maxYuduBookFetchAttempts)}},p=function(){var t=r.combinePaths(e.localToReaderRootPath,e.brandingConfigFiles.toolbar),n=r.combinePaths(e.localToReaderRootPath,e.brandingConfigFiles.toolbarPhoneview);u("toolbarConfig",s,{src:t},v,e.maxYuduBookFetchAttempts),u("toolbarPhoneviewConfig",s,{src:n},y,e.maxYuduBookFetchAttempts)},h=function(){var n=r.combinePaths(e.baseResourcesFolder,t.toolbarPhoneviewConfig.phoneviewHtmlFilePath);u("toolbarPhoneviewHtml",a,{src:n},b,e.maxYuduBookFetchAttempts)},g=function(){n.emit("loadingActions",n.LOADING_ACTIONS_DONE,this,{})},m=function(e){t.setYuduBook(e.yuduBook),n.emit("loadingActions",n.YUDU_BOOK_LOADED,this,t.yuduBook)},v=function(e){t.toolbarConfig=e},y=function(e){t.toolbarPhoneviewConfig=e},b=function(e){t.toolbarPhoneviewHtml=e,n.emit("loadingActions",n.BRANDABLE_TOOLBAR_LOADED,this,t.yuduBook)};return{runLoadingActions:function(e){l=e,c()},EMITTER_NAME:"loadingActions"}}),define("shared/localisation",["jquery"],function(e){var t=globalLanguagePack,n=!1;return new function(){var i=this;i.loadResources=function(t,i){e.getJSON(t,function(e){n=e,i()}).fail(function(){n=!1,i()})},i.get=function(e){var i=n[e];if(i)return i;var r=t[e];return void 0!=r?r:e},i.localiseHtml=function(t){e(t).find(".yudu_localisable").each(function(){var t=e(this);t.text(i.get(t.text()))});var n="yudu_localisable-";e(t).find('*[class^="'+n+'"]').each(function(){for(var t=e(this),r=t.attr("class").split(" "),o=!1,s=0,a=r.length;s<a;s++)if(0===r[s].lastIndexOf(n,0)){o=r[s].substring(n.length);break}o&&t.attr(o,i.get(t.attr(o)))})},i._private={setDummyDataForTesting:function(e,i){t=e,n=i}}}}),define("shared/ui/messageBox",["jquery","shared/config","shared/constants","shared/events","shared/localisation","shared/hammerManager"],function(e,t,n,i,r,o){var s=e("#yudu_messageBackground"),a=e("#yudu_messageBox"),u=e("#yudu_message"),c=e("#yudu_messageLink"),l=e("#yudu_messageClose"),d=e("#yudu_messageOk"),f=e("#yudu_messageCancel"),p=[],h=function(){},g=h,m=function(){s.show(),a.slideDown(),i.subscribe(i.ALL,i.CLOSE_ACTIVE,v)},v=function(){i.unsubscribe(i.ALL,i.CLOSE_ACTIVE,v),s.hide(),a.hide(),b(),w(),I(),g(),g=h,T(n.messageTypes.default)},y=function(e,t,n){b(),u.prepend(e),t&&n?(c.attr("href",t),c.text(n),c.css("display","block")):(c.hide(),w())},b=function(){u.contents().filter(function(){return this.nodeType===Node.TEXT_NODE}).remove()},w=function(){c.attr("href",""),c.text("")},T=function(e){u.removeClass(),u.addClass(e)},x=function(e,t,n,i){a.removeClass("yudu_twoButton"),y(e,t,n),T(i),m()},E=function(e,t){x(e,void 0,void 0,t)},A=function(e,t){E(r.get(e),t)},k=function(e,t,n){a.addClass("yudu_twoButton"),C(d,t),C(f,n),y(e),m()},S=function(e){a.addClass("yudu_twoButton"),y(e.text);var t=!1;e.leftLabel&&(t=f.text(),f.text(e.leftLabel)),e.leftCallback&&C(f,e.leftCallback);var n=!1;e.rightLabel&&(n=d.text(),d.text(e.rightLabel)),e.rightCallback&&C(d,e.rightCallback),e.backgroundCallback&&C(s,e.backgroundCallback),g=function(){t&&f.text(t),n&&d.text(n)},m()},L=function(e,t){return{button:e,callback:t}},C=function(e,n){i.yuduOn(e,t.clickAction,n),p.push(new L(e,n))},I=function(){for(;p.length>0;){var e=p.pop();e.button.off(t.clickAction,e.callback)}};return{init:function(){i.yuduOn(l,t.clickAction,v),i.yuduOn(f,t.clickAction,v),i.yuduOn(d,t.clickAction,v),i.yuduOn(s,t.clickAction,v),r.localiseHtml(a)},show:m,hide:v,setMessage:y,setType:T,displayWithLink:x,display:E,displayByCode:A,displayTwoButtonPopup:k,displayAdvancedTwoButtonPopup:S}}),define("shared/storage",[],function(){try{return window.localStorage.setItem("localStorageTest",1),window.localStorage.removeItem("localStorageTest"),window.localStorage}catch(t){var e=function(){var e=this;e.storage={},e.setItem=function(t,n){var i;switch(n){case void 0:i="undefined";break;case null:i="null";break;default:i=n.toString()}e.storage[t]=i},e.getItem=function(t){return e.storage.hasOwnProperty(t)?e.storage[t]:null},e.removeItem=function(t){delete e.storage[t]},e.clear=function(){e.storage={}},e.key=function(t){
for(var n in e.storage)if(e.storage.hasOwnProperty(n))return n}};return new e}}),define("shared/rememberMeToken",["shared/utils/eventUtils","shared/utils/utils","jquery","shared/storage"],function(e,t,n,i){var r=!1,o=!1,s=!1,a=!1,u=!1,c=!1,l=!1,d=function(e){if(!r){var t=e.settings;o=t.id,t.authenticateWithExternalAuthId&&(s=t.authenticateWithExternalAuthId,a=t.externalAuthId),u=t.rememberMeTokenBaseUrl+t.requestSingleUseShortLifeTokenPath,r=!0}},f=function(e){for(var t=0;t<e.length;t++){var n=e[t];i.setItem(n.identifier+"-rememberMeTokenKey",n.key),i.setItem(n.identifier+"-rememberMeTokenSecret",n.secret)}},p=function(){var e=i.getItem("bookId-"+o+"-rememberMeTokenKey"),t=i.getItem("bookId-"+o+"-rememberMeTokenSecret");if(e&&t&&(c={key:e,secret:t}),s){var n=i.getItem("extAuthId-"+a+"-rememberMeTokenKey"),r=i.getItem("extAuthId-"+a+"-rememberMeTokenSecret");n&&r&&(l={key:n,secret:r})}return c||l},h=function(e){return e.shortLifeRememberMeTokenLogin=!0,c&&(e.editionRememberMeKey=c.key,e.editionRememberMeSecret=c.secret),l&&(e.externalAuthId=a,e.extAuthIdRememberMeKey=l.key,e.extAuthIdRememberMeSecret=l.secret),e},g=function(){c=!1,l=!1,i.removeItem("bookId-"+o+"-rememberMeTokenKey"),i.removeItem("bookId-"+o+"-rememberMeTokenSecret"),s&&(i.removeItem("extAuthId-"+a+"-rememberMeTokenKey"),i.removeItem("extAuthId-"+a+"-rememberMeTokenSecret"))},m=t.throttle(function(){if(p()){var t=h({bookId:o});n.ajax({url:u,type:"POST",dataType:"json",data:t,success:e.callback(this,v)})}},9e5),v=function(e){e.success?e.authDetails&&e.authDetails.rememberMeTokens&&f(e.authDetails.rememberMeTokens):g()};return{setup:d,storeTokenDetails:f,hasTokenDetails:p,addTokenData:h,resetTokenDetails:g,requestNewTokenDetails:m}}),define("rememberMeToken",["events","shared/rememberMeToken"],function(e,t){var n=function(){e.subscribe(e.ALL,e.YUDU_BOOK_LOADED,i),r()},i=function(e){t.setup(e.data)},r=function(){e.subscribe(e.ALL,e.TOGGLE_TOC,t.requestNewTokenDetails,!0),e.subscribe(e.ALL,e.NEXT_ARTICLE,t.requestNewTokenDetails,!0),e.subscribe(e.ALL,e.PREVIOUS_ARTICLE,t.requestNewTokenDetails,!0),e.subscribe(e.ALL,e.OPEN_ARTICLE,t.requestNewTokenDetails,!0),e.subscribe(e.ALL,e.INCREASE_TEXT_SIZE,t.requestNewTokenDetails,!0),e.subscribe(e.ALL,e.DECREASE_TEXT_SIZE,t.requestNewTokenDetails,!0),e.subscribe(e.ALL,e.TAP,t.requestNewTokenDetails,!0),e.subscribe(e.ALL,e.SCROLL,t.requestNewTokenDetails,!0)},o=function(){t.resetTokenDetails(),e.emit(e.ALL,e.SHOW_LOGIN,this,{})};return{init:n,storeTokenDetails:t.storeTokenDetails,hasTokenDetails:t.hasTokenDetails,addTokenData:t.addTokenData,handleLoginFailure:o}}),define("shared/utils/urlUtils",["shared/constants","shared/config","shared/ui/messageBox","bowser"],function(e,t,n,i){return new function(){var e=this;e.openURL=function(r,o){if(t.getFromQuery("isApp"))return void e.navigateToUrl(r);if(o){if(!window.open(r,t.urlNavigationTarget))if(i.msie||i.msedge){var s={leftLabel:localisation.get("info.unableToOpenLink.back"),rightLabel:localisation.get("info.unableToOpenLink.forward"),rightCallback:events.callback(this,e.navigateToUrl,r),text:localisation.get("info.unableToOpenLink.message")};n.displayAdvancedTwoButtonPopup(s)}else e.navigateToUrl(r)}else e.navigateToUrl(r)},e.navigateToUrl=function(e){window.top.location=e}}});var CryptoJS=CryptoJS||function(e,t){var n={},i=n.lib={},r=function(){},o=i.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var r=0;r<e;r++)t[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<e;r+=4)t[i+r>>>2]=n[r>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new s.init(n,t)}}),a=n.enc={},u=a.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var r=t[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new s.init(n,t)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,a=r/(4*o),a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0);if(t=a*o,r=e.min(4*t,r),t){for(var u=0;u<t;u+=o)this._doProcessBlock(i,u);u=i.splice(0,t),n.sigBytes-=r}return new s.init(u,r)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}});var f=n.algo={};return n}(Math);!function(){var e=CryptoJS,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp(),e=[];for(var r=0;r<n;r+=3)for(var o=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,s=0;4>s&&r+.75*s<n;s++)e.push(i.charAt(o>>>6*(3-s)&63));if(t=i.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,i=this._map,r=i.charAt(64);r&&-1!=(r=e.indexOf(r))&&(n=r);for(var r=[],o=0,s=0;s<n;s++)if(s%4){var a=i.indexOf(e.charAt(s-1))<<s%4*2,u=i.indexOf(e.charAt(s))>>>6-s%4*2;r[o>>>2]|=(a|u)<<24-o%4*8,o++}return t.create(r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,i,r,o,s){return((e=e+(t&n|~t&i)+r+s)<<o|e>>>32-o)+t}function n(e,t,n,i,r,o,s){return((e=e+(t&i|n&~i)+r+s)<<o|e>>>32-o)+t}function i(e,t,n,i,r,o,s){return((e=e+(t^n^i)+r+s)<<o|e>>>32-o)+t}function r(e,t,n,i,r,o,s){return((e=e+(n^(t|~i))+r+s)<<o|e>>>32-o)+t}for(var o=CryptoJS,s=o.lib,a=s.WordArray,u=s.Hasher,s=o.algo,c=[],l=0;64>l;l++)c[l]=4294967296*e.abs(e.sin(l+1))|0;s=s.MD5=u.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,o){for(var s=0;16>s;s++){var a=o+s,u=e[a];e[a]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var s=this._hash.words,a=e[o+0],u=e[o+1],l=e[o+2],d=e[o+3],f=e[o+4],p=e[o+5],h=e[o+6],g=e[o+7],m=e[o+8],v=e[o+9],y=e[o+10],b=e[o+11],w=e[o+12],T=e[o+13],x=e[o+14],E=e[o+15],A=s[0],k=s[1],S=s[2],L=s[3],A=t(A,k,S,L,a,7,c[0]),L=t(L,A,k,S,u,12,c[1]),S=t(S,L,A,k,l,17,c[2]),k=t(k,S,L,A,d,22,c[3]),A=t(A,k,S,L,f,7,c[4]),L=t(L,A,k,S,p,12,c[5]),S=t(S,L,A,k,h,17,c[6]),k=t(k,S,L,A,g,22,c[7]),A=t(A,k,S,L,m,7,c[8]),L=t(L,A,k,S,v,12,c[9]),S=t(S,L,A,k,y,17,c[10]),k=t(k,S,L,A,b,22,c[11]),A=t(A,k,S,L,w,7,c[12]),L=t(L,A,k,S,T,12,c[13]),S=t(S,L,A,k,x,17,c[14]),k=t(k,S,L,A,E,22,c[15]),A=n(A,k,S,L,u,5,c[16]),L=n(L,A,k,S,h,9,c[17]),S=n(S,L,A,k,b,14,c[18]),k=n(k,S,L,A,a,20,c[19]),A=n(A,k,S,L,p,5,c[20]),L=n(L,A,k,S,y,9,c[21]),S=n(S,L,A,k,E,14,c[22]),k=n(k,S,L,A,f,20,c[23]),A=n(A,k,S,L,v,5,c[24]),L=n(L,A,k,S,x,9,c[25]),S=n(S,L,A,k,d,14,c[26]),k=n(k,S,L,A,m,20,c[27]),A=n(A,k,S,L,T,5,c[28]),L=n(L,A,k,S,l,9,c[29]),S=n(S,L,A,k,g,14,c[30]),k=n(k,S,L,A,w,20,c[31]),A=i(A,k,S,L,p,4,c[32]),L=i(L,A,k,S,m,11,c[33]),S=i(S,L,A,k,b,16,c[34]),k=i(k,S,L,A,x,23,c[35]),A=i(A,k,S,L,u,4,c[36]),L=i(L,A,k,S,f,11,c[37]),S=i(S,L,A,k,g,16,c[38]),k=i(k,S,L,A,y,23,c[39]),A=i(A,k,S,L,T,4,c[40]),L=i(L,A,k,S,a,11,c[41]),S=i(S,L,A,k,d,16,c[42]),k=i(k,S,L,A,h,23,c[43]),A=i(A,k,S,L,v,4,c[44]),L=i(L,A,k,S,w,11,c[45]),S=i(S,L,A,k,E,16,c[46]),k=i(k,S,L,A,l,23,c[47]),A=r(A,k,S,L,a,6,c[48]),L=r(L,A,k,S,g,10,c[49]),S=r(S,L,A,k,x,15,c[50]),k=r(k,S,L,A,p,21,c[51]),A=r(A,k,S,L,w,6,c[52]),L=r(L,A,k,S,d,10,c[53]),S=r(S,L,A,k,y,15,c[54]),k=r(k,S,L,A,u,21,c[55]),A=r(A,k,S,L,m,6,c[56]),L=r(L,A,k,S,E,10,c[57]),S=r(S,L,A,k,h,15,c[58]),k=r(k,S,L,A,T,21,c[59]),A=r(A,k,S,L,f,6,c[60]),L=r(L,A,k,S,b,10,c[61]),S=r(S,L,A,k,l,15,c[62]),k=r(k,S,L,A,v,21,c[63]);s[0]=s[0]+A|0,s[1]=s[1]+k|0,s[2]=s[2]+S|0,s[3]=s[3]+L|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;n[r>>>5]|=128<<24-r%32;var o=e.floor(i/4294967296);for(n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process(),t=this._hash,n=t.words,i=0;4>i;i++)r=n[i],n[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var e=u.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=u._createHelper(s),o.HmacMD5=u._createHmacHelper(s)}(Math),function(){var e=CryptoJS,t=e.lib,n=t.Base,i=t.WordArray,t=e.algo,r=t.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=n.hasher.create(),o=i.create(),s=o.words,a=n.keySize,n=n.iterations;s.length<a;){u&&r.update(u);var u=r.update(e).finalize(t);r.reset();for(var c=1;c<n;c++)u=r.finalize(u),r.reset();o.concat(u)}return o.sigBytes=4*a,o}});e.EvpKDF=function(e,t,n){return r.create(n).compute(e,t)}}(),CryptoJS.lib.Cipher||function(e){var t=CryptoJS,n=t.lib,i=n.Base,r=n.WordArray,o=n.BufferedBlockAlgorithm,s=t.enc.Base64,a=t.algo.EvpKDF,u=n.Cipher=o.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,i){return("string"==typeof n?h:p).encrypt(e,t,n,i)},decrypt:function(t,n,i){return("string"==typeof n?h:p).decrypt(e,t,n,i)}}}});n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=t.mode={},l=function(e,t,n){var i=this._iv;i?this._iv=void 0:i=this._prevBlock;for(var r=0;r<n;r++)e[t+r]^=i[r]},d=(n.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();d.Encryptor=d.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;l.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),d.Decryptor=d.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=e.slice(t,t+i);n.decryptBlock(e,t),l.call(this,e,t,i),this._prevBlock=r}}),c=c.CBC=d,d=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,n=n-e.sigBytes%n,i=n<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(i);n=r.create(o,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:c,padding:d}),reset:function(){u.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var f=n.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),c=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return e=e.salt,(e?r.create([1398893684,1701076831]).concat(e).concat(t):t).toString(s)},parse:function(e){e=s.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var n=r.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return f.create({ciphertext:e,salt:n})}},p=n.SerializableCipher=i.extend({cfg:i.extend({format:c}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var r=e.createEncryptor(n,i);return t=r.finalize(t),r=r.cfg,f.create({ciphertext:t,key:n,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,n,i){return i||(i=r.random(8)),e=a.create({keySize:t+n}).compute(e,i),n=r.create(e.words.slice(t),4*n),e.sigBytes=4*t,f.create({key:e,iv:n,salt:i})}},h=n.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:t}),encrypt:function(e,t,n,i){return i=this.cfg.extend(i),n=i.kdf.execute(n,e.keySize,e.ivSize),i.iv=n.iv,e=p.encrypt.call(this,e,t,n.key,i),e.mixIn(n),e},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),n=i.kdf.execute(n,e.keySize,e.ivSize,t.salt),i.iv=n.iv,p.decrypt.call(this,e,t,n.key,i)}})}(),function(){for(var e=CryptoJS,t=e.lib.BlockCipher,n=e.algo,i=[],r=[],o=[],s=[],a=[],u=[],c=[],l=[],d=[],f=[],p=[],h=0;256>h;h++)p[h]=128>h?h<<1:h<<1^283;for(var g=0,m=0,h=0;256>h;h++){var v=m^m<<1^m<<2^m<<3^m<<4,v=v>>>8^255&v^99;i[g]=v,r[v]=g;var y=p[g],b=p[y],w=p[b],T=257*p[v]^16843008*v;o[g]=T<<24|T>>>8,s[g]=T<<16|T>>>16,a[g]=T<<8|T>>>24,u[g]=T,T=16843009*w^65537*b^257*y^16843008*g,c[v]=T<<24|T>>>8,l[v]=T<<16|T>>>16,d[v]=T<<8|T>>>24,f[v]=T,g?(g=y^p[p[p[w^y]]],m^=p[p[m]]):g=m=1}var x=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,e=4*((this._nRounds=n+6)+1),r=this._keySchedule=[],o=0;o<e;o++)if(o<n)r[o]=t[o];else{var s=r[o-1];o%n?6<n&&4==o%n&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=s<<8|s>>>24,s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=x[o/n|0]<<24),r[o]=r[o-n]^s}for(t=this._invKeySchedule=[],n=0;n<e;n++)o=e-n,s=n%4?r[o]:r[o-4],t[n]=4>n||4>=o?s:c[i[s>>>24]]^l[i[s>>>16&255]]^d[i[s>>>8&255]]^f[i[255&s]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,a,u,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,c,l,d,f,r),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,r,o,s,a){for(var u=this._nRounds,c=e[t]^n[0],l=e[t+1]^n[1],d=e[t+2]^n[2],f=e[t+3]^n[3],p=4,h=1;h<u;h++)var g=i[c>>>24]^r[l>>>16&255]^o[d>>>8&255]^s[255&f]^n[p++],m=i[l>>>24]^r[d>>>16&255]^o[f>>>8&255]^s[255&c]^n[p++],v=i[d>>>24]^r[f>>>16&255]^o[c>>>8&255]^s[255&l]^n[p++],f=i[f>>>24]^r[c>>>16&255]^o[l>>>8&255]^s[255&d]^n[p++],c=g,l=m,d=v;g=(a[c>>>24]<<24|a[l>>>16&255]<<16|a[d>>>8&255]<<8|a[255&f])^n[p++],m=(a[l>>>24]<<24|a[d>>>16&255]<<16|a[f>>>8&255]<<8|a[255&c])^n[p++],v=(a[d>>>24]<<24|a[f>>>16&255]<<16|a[c>>>8&255]<<8|a[255&l])^n[p++],f=(a[f>>>24]<<24|a[c>>>16&255]<<16|a[l>>>8&255]<<8|a[255&d])^n[p++],e[t]=g,e[t+1]=m,e[t+2]=v,e[t+3]=f},keySize:8});e.AES=t._createHelper(n)}(),define("crypto",function(e){return function(){return e.CryptoJS}}(this)),define("shared/utils/tools",["jquery","crypto","config","shared/storage","shared/utils/appUtils"],function(e,t,n,i,r){var o=null,s=function(e,n){if(!e.isEnc||!e.data||!e.iv)return null;var i=t.lib.CipherParams.create({ciphertext:t.enc.Base64.parse(e.data)}),r=t.AES.decrypt(i,t.enc.Hex.parse(n),{iv:t.enc.Hex.parse(e.iv)}),o=r.toString(t.enc.Utf8);try{return JSON.parse(o)}catch(e){return null}},a=function(){var e=n.getFromQuery("deviceId");if(e)return o=e;if(null!=o)return o;var t=i.getItem("html_uid");return t?o=t:(o=Math.floor(1e8*Math.random()+1),i.setItem("html_uid",o),o)},u=function(){return r.isThisAnApp(n.getQueryObject())},c=function(e,t){t?e.show():e.hide()},l={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return l.Android()||l.BlackBerry()||l.iOS()||l.Opera()||l.Windows()}};return{decryptJson:s,getUniqueUserId:a,isThisAnApp:u,showHideElement:c,isMobile:l,removeElementFromArray:function(e,t){return e.filter(function(e){return e!==t})}}}),define("shared/utils/appWrapHook",["jquery","shared/utils/tools","config","resources","events","shared/utils/appUtils"],function(e,t,n,i,r,o){var s=function(e){t.isThisAnApp()&&y.setStatus.initialised(),o.designateOrigin(o.targets.htmlReader),window.wrapperAction=v,e&&y.ready()&&u(),a(),o.deviceType.isAndroid()&&o.sendMessage("getGaSetting")},a=function(){var e=n.getFromQuery("username"),i=n.getFromQuery("password"),o=n.getFromQuery("subscriberId");e&&i&&r.emit("appWrapHook",r.CHANGE_FOR_LOGIN_DETAILS,this,{superLoginSuccess:!0,tokenKey:!1,tokenId:!1,subscriberEmail:!1,subscriberId:o||!1,deviceId:t.getUniqueUserId(),username:e,password:i})},u=function(){if(!b.queryContainsKey())return h("gimmeKey:"+i.yuduBook.settings.id+":"+i.yuduBook.settings.pubId,!0)},c=function(){return!!y.initialised()&&h("superLogin",!0)},l=function(){return!(!y.ready()||y.superFailed())&&h("readerNeedsCredentials",!1)},d=function(e){return!!y.initialised()&&h("openExternalUrl:"+e,!1)},f=function(e){return!!y.ready()&&h("getLiveUrl:"+e,!0)},p=function(e){h(e,!1)},h=function(e,t){return t&&y.setStatus.aboutToSend(),b.sendMessage(e)},g=function(e,t){m(e,t)},m=function(e,t){var n=t||{};o.sendMessage(e,o.targets._app,n)},v={decryptKey:function(e){n.decryptionKey=e,y.setStatus.messageDecrypted(),r.emit("appWrapHook",r.LOGIN_SUCCESS,this,{key:e,success:!0})},debug:function(){},superLogin:function(e,t,n,i,o,s,a){y.setStatus.receivedSuperLogin(),r.emit("appWrapHook",r.CHANGE_FOR_LOGIN_DETAILS,this,{superLoginSuccess:!0,tokenKey:v.nullValueFilter(e),tokenId:v.nullValueFilter(t),subscriberEmail:v.nullValueFilter(n),subscriberId:v.nullValueFilter(i),deviceId:v.nullValueFilter(o),username:v.nullValueFilter(s),password:v.nullValueFilter(a)})},nullValueFilter:function(e){return"false"!=e&&(""!=e&&e)},superLoginFailed:function(){y.setStatus.noSuper(),r.emit("appWrapHook",r.SHOW_LOGIN,this,{noSuper:!0})},storeLiveUrl:function(e){if(""!==e){var t=document.createElement("a");t.href=e;var i=t.host;i.indexOf(":80")>-1?i=i.replace(":80",""):i.indexOf(":443")>-1&&(i=i.replace(":443",""));var o=t.pathname;o="/"==o.charAt(0)?o:"/"+o,n.liveUrl=t.protocol+"//"+i+o}else n.liveUrl=e;r.emit("appWrapHook",r.LIVE_URL_RECEIVED,this,{})},setGASetting:function(e){n.nativeAndroidGoogleAnalyticsEnabled=e,r.emit("appWrapHook",r.INIT_GA_CONSENT)},closedInAppBrowser:function(){i.yuduBook.settings.closeLightboxOnInAppReturn&&r.emit("appWrapHook",r.CLOSE_LIGHTBOX)},handleMessage:o.api.handleMessage},y=function(){var e=!1,t=!1,n=!1,i=!1,r={initialised:function(){e=!0},messageDecrypted:function(){i=!0},receivedSuperLogin:function(){i=!0,t=!1},noSuper:function(){t=!0,i=!0},aboutToSend:function(){n=!0}},o=function(){return e};return{initialised:o,ready:function(){return o()&&(!n||i)},superFailed:function(){return t},setStatus:r}}(),b={queryContainsKey:function(){var e=n.getFromQuery("key");return!!e&&(v.decryptKey(e),!0)},sendMessage:function(e){if(o.deviceType.isMetro()){if(e="ms-appx-web:///yudu:"+e,e.length<=2e3)window.location.href=e;else{var t=w(100,999);e=encodeURIComponent(e);for(var n=Math.ceil(e.length/2e3),i=0;i<n;i++){var r="ms-appx-web:///yudu:multipart:";r+=t+":",r+=i+":",r+=n+":",r+=e.substring(2e3*i,Math.min(2e3*(i+1),e.length)),window.location.href=r}}return!0}return!!o.deviceType.isAndroid()&&(window.location.href="yudu:"+e,!0)}},w=function(e,t){var n=Math.floor(Math.random()*(t-e+1))+e;return Date.now().toString(36).toUpperCase()+"-"+n};return{init:s,trySuperLogin:c,tryGettingSuperCredentials:l,tryOpeningExternalUrl:d,tryGettingLiveUrl:f,sendMessage:p,sendMessageWithParameters:g,registerHandlerForMessageWithParameters:o.registerMessageResponder}}),define("shared/ui/sharing",["shared/constants","shared/config","shared/events","shared/resources","shared/localisation","shared/utils/appUtils","shared/utils/urlUtils","shared/ui/messageBox","shared/hammerManager","jquery","shared/utils/appWrapHook"],function(e,t,n,i,r,o,s,a,u,c,l){var d,f,p=!1,h=!1,g=!1,m={},v=null,y=function(){return c("#shareContainer")},b=function(){n.LOADING_ACTIONS_DONE&&n.subscribe(n.ALL,n.LOADING_ACTIONS_DONE,n.callback(this,T),!1)},w=function(e){v=e,m={emailPopup:{background:c("#yudu_shareBackground"),container:c("#yudu_emailShareContainer"),fromAddress:c("#yudu_fromAddress"),toAddress:c("#yudu_toAddress"),comment:c("#yudu_comment"),form:c("#yudu_emailForm"),cancel:c("#yudu_emailCancel"),send:c("#yudu_emailSend")}},u.createTapManager(m.emailPopup.background[0]).on("tap",_)};c("input, textarea").click(function(){c("#yudu_emailSend").focus(),this.focus()});var T=function(){var t=i.yuduBook.settings.sharing;if(t){if(r.localiseHtml(y()),r.localiseHtml(m.emailPopup.container),p=t.url,h=i.yuduBook.settings.id,n.yuduOn(c(".yudu_noDrag"),"touchmove",n.callback(this,function(){return!1})),window.yudu_sharingFunctions={},window.yudu_sharingSettings={},window.yudu_sharingSettings.toolbarIconBasePath=e.toolbarIconBasePath,(t.emailEnabled||t.twitter||t.facebook||t.linkedIn)&&(window.yudu_sharingFunctions.togglePage=O),t.emailEnabled){window.yudu_sharingFunctions.shareEmail=x,m.emailPopup.form.submit(n.callback(this,function(e){return c("input").blur(),e.stopPropagation(),E(),!1}));u.createTapManager(m.emailPopup.cancel[0]).on("tap",_),d=t.emailSubject,f=t.emailBody}t.twitter&&(window.yudu_sharingFunctions.shareTwitter=n.callback(this,k,t.twitter),window.yudu_sharingSettings.twitterIconPath=e.baseRequiredFolder+"twitter.png"),t.facebook&&(window.yudu_sharingFunctions.shareFacebook=n.callback(this,k,t.facebook),window.yudu_sharingSettings.facebookIconPath=e.baseRequiredFolder+"facebook.png"),t.linkedIn&&(window.yudu_sharingFunctions.shareLinkedIn=n.callback(this,k,t.linkedIn),window.yudu_sharingSettings.linkedInIconPath=e.baseRequiredFolder+"linkedIn.png")}},x=function(){n.subscribe(n.ALL,n.CLOSE_ACTIVE,D),n.emit("sharing",n.SHARE_EMAIL_DIALOG_OPEN,this,{}),m.emailPopup.container.slideDown(),m.emailPopup.background.show(),m.emailPopup.fromAddress.focus()},E=function(){o.isThisAnApp()&&!t.liveUrl&&""!==t.liveUrl?(n.subscribe("appWrapHook",n.LIVE_URL_RECEIVED,A),l.tryGettingLiveUrl(h)):A()},A=function(){n.unsubscribe("appWrapHook",n.LIVE_URL_RECEIVED,A);var e=m.emailPopup.toAddress.val(),t=L().url,i=f.replace(/#to#/gi,e);i=i.replace(/#from#/gi,m.emailPopup.fromAddress.val()),i=i.replace(/#url#/gi,"<a href='"+t+"'>"+t+"</a>"),i=i.replace(/#comments#/gi,m.emailPopup.comment.val()),s.openURL("mailto:"+e+"?subject="+encodeURIComponent(d)+"&body="+encodeURIComponent(c(i).text()),!1),n.emit("sharing",n.SHARE_TO.EMAIL,this,{shareUrl:t}),_()},k=function(e){e&&(o.isThisAnApp()&&!t.liveUrl&&""!==t.liveUrl?(n.subscribe("appWrapHook",n.LIVE_URL_RECEIVED,function(){S(e)}),l.tryGettingLiveUrl(h)):S(e))},S=function(t){var n=L(),i={bookId:h,siteId:t,url:n.url,thumbnailUrl:n.thumbnailUrl,waitTime:4},r=!1;C(i,function(e,t){r||(r=!0,I(e,t))},function(){r||(r=!0,a.displayByCode("sharing.genericError",e.messageTypes.failure))}),setTimeout(function(){r||(r=!0,a.displayByCode("sharing.genericError",e.messageTypes.failure))},e.shareSiteTimeout)},L=function(){if(!v||"function"!=typeof v)return{};var e=t.liveUrl||location.protocol+"//"+location.host+location.pathname;return v(!g,e)},C=function(e,t,i){c.ajax({url:p,type:"POST",dataType:"json",data:e,success:n.callback(this,t,e),error:i})},I=function(t,o){if(o.success){var u=i.yuduBook.settings.sharing.facebook,c=i.yuduBook.settings.sharing.twitter,l=i.yuduBook.settings.sharing.linkedIn;u&&t.siteId==u?n.emit("sharing",n.SHARE_TO.FACEBOOK,this,{shareUrl:t.url}):c&&t.siteId==c?n.emit("sharing",n.SHARE_TO.TWITTER,this,{shareUrl:t.url}):l&&t.siteId==l&&n.emit("sharing",n.SHARE_TO.LINKED_IN,this,{shareUrl:t.url}),s.openURL(o.url,!0)}else{var d=r.get(o.error?"sharing.errors."+o.error:"sharing.genericError");a.display(d,e.messageTypes.failure)}},_=function(){n.unsubscribe(n.ALL,n.CLOSE_ACTIVE,D),n.emit("sharing",n.SHARE_EMAIL_DIALOG_CLOSE,this,{}),m.emailPopup.background.hide(),m.emailPopup.container.hide()},O=function(e){g=e},D=n.callback(this,_);return{init:w,bindEvents:b,_private:{getShareUrl:L,shareSite:k,togglePage:O}}}),define("sharing",["constants","config","events","resources","interactions","shared/localisation","shared/ui/sharing","jquery"],function(e,t,n,i,r,o,s,a){function u(){var i=this;i.bindEvents=function(){s.bindEvents()},i.init=function(){n.subscribe(n.ALL,n.SHARE_EMAIL_DIALOG_OPEN,u),n.subscribe(n.ALL,n.SHARE_EMAIL_DIALOG_CLOSE,c),s.init(o)};var o=function(e,n){var i=null;i=e?"?origin=reader&page=1":"?origin=reader&page="+t.currentPage+"&article="+t.currentArticle;var r=t.hasIntroPage?1:0,o=e?r:t.currentPage,s=Math.max(r,o);return{url:n+i,thumbnailUrl:a(n)+s+".jpg"}},a=function(t){return t.slice(0,t.lastIndexOf("/htmlArticles")+1)+e.baseThumbnailFolder},u=function(e){r.setHotKeysEnabled(!1)},c=function(e){r.setHotKeysEnabled(!0)}}return new u}),define("textSize",["constants","config","events","shared/utils/appUtils","bowser","shared/storage","jquery"],function(e,t,n,i,r,o,s){return new function(){var e=this,t=!1,i=100,a=null;e.init=function(){n.subscribe(n.ALL,n.INCREASE_TEXT_SIZE,e.increase,!1),n.subscribe(n.ALL,n.DECREASE_TEXT_SIZE,e.decrease,!1),t=s("#frameEnvelope")[0],l()},e.update=function(){!1!==t&&t&&t.style&&(u()?(t.style.webkitTextSizeAdjust=i+"%",t.style.mozTextSizeAdjust=i+"%",t.style.msTextSizeAdjust=i+"%",t.style.textSizeAdjust=i+"%"):t.style.fontSize=i+"%")};var u=function(){return null!==a?a:(a=!1,r.ios&&(a=!0),a)};e.increase=function(){!1!==t&&(i+=10,c(),e.update())},e.decrease=function(){!1!==t&&(i<20||(i-=10,c(),e.update()))},e.reset=function(){i=100,c()};var c=function(){o.setItem("yudu-pv-textsize",JSON.stringify(i))},l=function(){var t=JSON.parse(o.getItem("yudu-pv-textsize"));t>=10&&t!=i&&(i=t,e.update())}}}),define("shared/ui/toolbar",["shared/constants","shared/config","shared/events","shared/localisation","shared/hammerManager","jquery"],function(e,t,n,i,r,o){var s=function(){var s=this;s.EMITTER_NAME="toolbar";var a,u,c,l={},d=[],f={},p={__yudu_count:0},h={__yudu_count:0};s.init=function(e,t){a=o(window),u=e,c=t,n.subscribe(n.ALL,n.RESIZE,E,!1),g()};var g=function(){r.createManagerWithOptions(u[0],{recognizers:r.recogniserPresets.TAP_ONLY,touchAction:"none"}).on("tap",function(e){e.preventDefault();var t;if(e.target!=u[0]){var n="IMG"==e.target.nodeName?e.target.parentElement:e.target;t=l[n.dataset.action]}else{var i=m(e.center.x,50);i&&(t=l[i[0].dataset.action])}t&&t.call(this,e)})},m=function(e,t){for(var n=null,i=null,r=0;r<d.length;r++){var o=d[r];if(p[o]||h[o]){var s=f[o].button,a=f[o].rightAligned,u=v(s,e,a);null==i||u<i?(n=[s],i=u):u==i&&n.push(s)}}return t&&i>t?null:n&&n.length>1?null:n[0]},v=function(e,t,n){var i=e.offset().left;if(t<i)return i-t;var r=i+e.outerWidth();return t>r?t-r:0};s.setCallback=function(e,t){l[e]=A(t)},s.callCallback=function(e){e&&l.hasOwnProperty(e)&&"function"==typeof l[e]&&l[e]()},s.createButton=function(e,n,r,s,a,l){var d=T(e,r);l||(l=i.get("toolbar.button."+n));var f=o('<a type="button" class="control controlInitialState" tabindex="0" id="'+e+'" role="button"></a>').attr("data-action",n).attr("aria-label",l),p=o("<img/>").attr("src",d).attr("alt",l).attr("aria-hidden",!0).appendTo(f);return p.on("load",function(){y(p)}),b(e,f,s,a),a&&t.isDesktop?c.append(f):u.append(f),f};var y=function(e){var t=parseFloat(e.css("height")),n=parseFloat(e.css("max-height")),i=(n-t)/2;e.css("padding-top",i),e.css("padding-bottom",i)},b=function(e,t,n,i){f[e]={},f[e].button=t,f[e].rightAligned=i,d.push(e),n?s.showButton(e):s.hideButton(e)};s.isVisible=function(e){return f[e]&&(p[e]||h[e])},s.hideButton=function(e){if(f[e]){var t=w(f[e].rightAligned);t[e]&&(t.__yudu_count-=1),t[e]=!1,f[e].button.addClass("hidden")}},s.showButton=function(e){if(f[e]){var t=w(f[e].rightAligned);t[e]||(t.__yudu_count+=1),t[e]=!0,f[e].button.removeClass("hidden"),y(f[e].button.find("img"))}};var w=function(e){return e?h:p},T=function(n,i){return void 0===i&&(i=t.shouldUseHighRes()),e.toolbarIconBasePath+(i?e.toolbarIconHighResPrefix:"")+n+e.toolbarIconFileExtension};s.positionButtons=function(){x(!1),x(!0)};var x=function(e){var t=w(e),n=e?c:u;if(!(t.__yudu_count<1))for(var i=n.width()/t.__yudu_count,r=0,o=0;o<d.length;o++){var s=d[o];if(t[s]){var a=f[s].button.outerWidth(!0)/2,l=i/2+i*r-a;f[s].button.css({left:l}),r++}}},E=function(){"function"==typeof s.onResize&&s.onResize(),s.positionButtons()},A=function(e){return function(){n.emit(s.EMITTER_NAME,e,this,{})}};s.isVisible=function(e){return!!p[e]&&!!h[e]},s.onResize=function(){}};return{make:function(){return new s}}}),define("toolbar",["constants","resources","config","events","shared/hammerManager","shared/localisation","shared/utils/utils","shared/utils/appUtils","shared/ui/toolbar","shared/utils/tools","jquery"],function(e,t,n,i,r,o,s,a,u,c,l){return new function(){var r,d,f,p=this,h=!1,g=u.make();p.isVisible=g.isVisible,p.EMITTER_NAME="toolbar";var m=!1,v={goreader:"goreader",goleft:"goleft",goright:"goright",textsizedown:"textsizedown",textsizeup:"textsizeup",share:"share",toc:"toc",logout:"logout"};p.init=function(){r=l("#"+e.toolbarElementId),d=l("#"+e.toolbarRightAlignedContainerId),f=t.yuduBook.settings.logoutButtonEnabled&&!c.isThisAnApp()&&n.isDesktop,y(),b(),g.init(r,d),r.attr("aria-label",o.get("phoneview.toolbar.ariaLabel")),m=!!s.getLeafOrUndefined(t.yuduBook,"settings","phoneview","disableReturnToReader"),i.subscribe(i.ALL,i.TOC_LOADED,function(){g.showButton("toc"),g.positionButtons()},!1),i.subscribe(i.ALL,i.BRANDABLE_TOOLBAR_LOADED,function(){t.toolbarPhoneviewHtml&&r.append(t.toolbarPhoneviewHtml)},!1),i.subscribe(i.ALL,i.BUTTON_TRIGGER_KEY_PRESSED,function(){var e=document.activeElement;if(e){var t=e.dataset.action;g.callCallback(t)}}),f&&i.subscribe(i.ALL,i.LOGIN_SUCCESS,function(){h=!0,g.showButton("logout")},!1),w(),g.onResize=x},p.loadBrandableComponents=function(){var n=e.baseResourcesFolder+t.toolbarPhoneviewConfig.phoneviewJavascriptFilePath;window.yudu_commonFunctions.injectJavascript(n)};var y=function(){var e=t.yuduBook.settings;window.yudu_toolbarSettings={sharing:{emailEnabled:e.sharing.emailEnabled,twitter:e.sharing.twitter,facebook:e.sharing.facebook,
linkedIn:e.sharing.linkedIn}}},b=function(){t.yuduBook.settings;window.yudu_toolbarFunctions={}},w=function(){g.setCallback(v.goreader,i.RETURN_TO_READER),g.setCallback(v.goleft,i.PREVIOUS_ARTICLE),g.setCallback(v.goright,i.NEXT_ARTICLE),g.setCallback(v.textsizedown,i.DECREASE_TEXT_SIZE),g.setCallback(v.textsizeup,i.INCREASE_TEXT_SIZE),g.setCallback(v.share,i.SHARE),g.setCallback(v.toc,i.TOGGLE_TOC),f&&g.setCallback(v.logout,i.LOGOUT);var e=n.shouldUseHighRes();g.createButton("prev",v.goleft,e,!0,!1),g.createButton("textsizedown",v.textsizedown,e,!0,!1),g.createButton("toc",v.toc,e,!1,!1),g.createButton("1up",v.goreader,e,!0,!1),g.createButton("2up",v.goreader,e,!1,!1),g.createButton("share",v.share,e,T(),!1),g.createButton("textsizeup",v.textsizeup,e,!0,!1),g.createButton("next",v.goright,e,!0,!1),f&&g.createButton("logout",v.logout,e,h,!0),x(),g.positionButtons(),r.children().removeClass("controlInitialState"),d.children().removeClass("controlInitialState")},T=function(){if(a.isThisAnApp())return!1;var e=["emailEnabled","facebook","twitter","linkedIn"];for(var n in e){var i=e[n];if(s.getLeafOrUndefined(t.yuduBook,"settings","sharing",i))return!0}return!1},x=function(){if(m)g.hideButton("1up"),g.hideButton("2up");else{var e=l(window);e.width()>e.height()?A():E()}},E=function(){g.isVisible("1up")||(g.showButton("1up"),g.hideButton("2up"))},A=function(){g.isVisible("2up")||(g.showButton("2up"),g.hideButton("1up"))}}}),define("toc",["shared/utils/utils","shared/utils/appUtils","resources","config","events","shared/hammerManager","toolbar","shared/utils/tools","jquery"],function(e,t,n,i,r,o,s,a,u){return new function(){var u,c,l,d,f=this,p=!1;f.init=function(){c=$("#contentsContainer"),l=$("#contentsList"),d=$("#contentsBackground");var e=o.createManager(d[0]);e.on("tap",g),e.on("press",g),e.on("panstart",g),r.subscribe(r.ALL,r.TOC_LOADED,m,!1),r.subscribe(r.ALL,r.TOGGLE_TOC,f.toggle,!1),r.subscribe(r.ALL,r.RESIZE,y,!1),r.subscribe(r.ALL,r.DEVICE_TYPE_CHANGED,y,!1)},f.toggle=function(e){1==e||0!=e&&0==p?h():g()};var h=function(){r.emit(r.ALL,r.OPEN_TOGGLABLE,f,!1),c.removeClass("hidden"),p=!0,$("#first-article").focus()},g=function(){c.addClass("hidden"),p=!1},m=function(){var t=n.toc;if(e.getLeafOrUndefined(t,"length")){for(var i=[],r=0,o=t.length;r<o;r++){var s=v(t[r]);if(s&&i.push(s),t.childItems&&t.childItems.length>0)for(var a=t.childItems,u=0;u<a.length;u++){var c=v(a[u]);c&&i.push()}}i[0].setAttribute("id","first-article"),l.append(i),l.find("hr").last().remove(),y()}},v=function(e){if(!e.description||!e.htmlArticle)return null;var n=document.createElement("div");n.classList.add("contentsElement"),(a.isMobile.Android()||t.deviceType.isAndroid())&&n.setAttribute("aria-hidden",!0),n.setAttribute("role","button"),n.setAttribute("tabIndex","-1");var i=document.createElement("div");i.classList.add("contentsLink"),i.innerHTML=e.description,n.appendChild(i);var s=document.createElement("hr");return s.setAttribute("role","presentation"),n.appendChild(s),o.createTapManager(n).on("tap",function(){r.emit("*",r.OPEN_ARTICLE,this,{article:e.htmlArticle}),g()}),n},y=function(){if(u||(u=$("#toc")),!i.isDesktop||!s.isVisible("toc"))return void l.css({left:""});var e=u.offset().left+u.outerWidth(!1)/2,t=Math.max(e-l.width()/2,0);l.css({left:t})}}}),define("utils/resizeHelper",["events","config","shared/utils/utils","bowser"],function(e,t,n,i){var r={landscape:"landscape",portrait:"portrait"};return new function o(){if(!(this instanceof o))return new o;var s=this,a=null,u=!1,c=!1;s.init=function(){i.ios&&i.iphone&&!i.ipad&&(!i.osversion||parseInt(i.osversion)>8)&&(c=!0,p()),e.subscribe(e.ALL,e.RESIZE,l,!0)};var l=function(){c&&p(),d()},d=function(){t.width=screen.width,t.height=screen.height},f=n.performanceCriticalDebounce(function(){scrollTo(0,0)},60),p=function(e){clearTimeout(a);var t=m();t==r.landscape&&g(t)-window.innerHeight>10?u||(document.body.classList.add("iosLandscapeCompensator"),document.addEventListener("scroll",f),u=!0):u&&(document.body.classList.remove("iosLandscapeCompensator"),document.removeEventListener("scroll",f),u=!1),e||(a=setTimeout(h,300))},h=p.bind(this,!0),g=function(e){return e||(e=m()),e==r.portrait?screen.height:screen.width},m=function(){return window.innerHeight>window.innerWidth?r.portrait:r.landscape}}}),define("viewRedirect",["config","events","shared/utils/appUtils","shared/device","shared/utils/utils","shared/version"],function(e,t,n,i,r,o){var s={fixedLayout:"fixedlayout",article:"article"},a={};return a[i.types.desktop]="deviceViewDesktop",a[i.types.tablet]="deviceViewTablet",a[i.types.phone]="deviceViewPhone",new function(){var u=this;u.init=function(){var e=n.deviceType.isMetro()&&o.checkFeatureCompatibility(o.features.phoneview);l()||n.deviceType.isAndroid()||e||t.subscribe(t.ALL,t.YUDU_BOOK_LOADED,c,!1)};var c=function(e){var n=a[i.classify()];r.getLeafOrUndefined(e.data,"settings","phoneview",n)==s.fixedLayout&&t.emit("viewRedirect",t.RETURN_TO_READER,u,{})},l=function(){return e.queryObject.origin}}}),define("shared/commonFunctionsApi",["constants","config","events","shared/hammerManager"],function(e,t,n,i){var r={},o=function(e,t){e=e instanceof Array?e:[e];for(var n=e.length,i=Math.floor(1e3*Math.random()+1);r.hasOwnProperty(i);)i=Math.floor(1e3*Math.random()+1);r[i]=0;for(var o=0;o<n;o++){var a=$('<link rel="stylesheet" type="text/css" href="'+e[o]+'">');a.on("load",function(){s(t,n,i)}),$("head").append(a)}},s=function(e,t,n){++r[n]==t&&(delete r[n],e.call())},a=function(){n.emit(n.ALL,n.SHOWHIDE_TOOLBAR,this,{toggle:!1,show:!1})},u=function(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,document.getElementsByTagName("head")[0].appendChild(t)},c=function(t){return e.baseResourcesFolder+t},l=function(e){yudu_commonSettings.width=e.data.width,yudu_commonSettings.height=e.data.height};return{init:function(){window.yudu_commonSettings=window.yudu_commonSettings||{},window.yudu_commonFunctions=window.yudu_commonFunctions||{},window.yudu_commonSettings.width=1200,window.yudu_commonSettings.height=800,window.yudu_commonSettings.pixelDensity=1,window.yudu_commonSettings.isDesktop=t.isDesktop,window.yudu_commonFunctions.loadCss=o,window.yudu_commonFunctions.injectJavascript=u,window.yudu_commonFunctions.createBrandingPath=c,window.yudu_commonFunctions.createHammerJSTapManager=i.createTapManager,window.yudu_commonFunctions.hideToolbar=a,n.subscribe(n.ALL,n.RESIZE,n.callback(this,l))}}}),define("commonFunctionsApiExtensions",["events"],function(e){return{init:function(){window.yudu_commonSettings=window.yudu_commonSettings||{},window.yudu_commonFunctions=window.yudu_commonFunctions||{},window.yudu_commonFunctions.goPreviousPage=function(){e.emit("COMMON_FUNCTIONS",e.PREVIOUS_ARTICLE,this,{})},window.yudu_commonFunctions.goNextPage=function(){e.emit("COMMON_FUNCTIONS",e.NEXT_ARTICLE,this,{})},window.yudu_commonFunctions.goToArticle=function(t){e.emit("COMMON_FUNCTIONS",e.OPEN_ARTICLE,this,{article:t})},window.yudu_commonFunctions.scrollToAnchor=function(t){e.emit("COMMON_FUNCTIONS",e.SCROLL_TO_ANCHOR,this,{target:t})}}}}),define("shared/tools",["config","shared/storage"],function(e,t){var n=null,i=function(){var t=e.getFromQuery("refUrl");return t?decodeURIComponent(t):document.referrer},r=function(){var i=e.getFromQuery("deviceId");if(i)return n=i;if(null!=n)return n;var r=t.getItem("html_uid");return r?n=r:(n=Math.floor(1e8*Math.random()+1),t.setItem("html_uid",n),n)},o=function(){var e=navigator.oscpu,t=null;return e&&(t=s(e))?t:(t=s(navigator.userAgent))||(e||navigator.platform)},s=function(e){for(var t=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 10",r:/(Windows 10|Windows NT 10.0)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/}],n=0,i=t.length;n<i;n++){var r=t[n];if(r.r.test(e))return r.s}return null};return{getUniqueUserId:r,getReferral:i,getOS:o}}),define("utils/stats/yuduReporting",["jquery","resources","shared/tools"],function(e,t,n){var i={},r=-1,o=-1,s="",a=function(){i=t.yuduBook.settings},u={visit:"/Visit",articleview:"/ArticleView"},c=function(e){return i.statsUrl+u[e]},l=function(t){if(o=t.page,s=t.article,i.preview)return void p();var r=c("visit"),a={operatingSystem:n.getOS(),bookId:i.id,referrerUrl:n.getReferral(),browser:navigator.userAgent,uniqueUserId:n.getUniqueUserId(),screenResolution:screen.width+"x"+screen.height,flashVersion:"unknown",hierarchyPosition:i.hierarchyPosition,appType:"HTML-Reader"};e.post(r,a,d,"text")},d=function(e){r=e,f({page:o,article:s})},f=function(t){if(!(r<0)){var n=c("articleview"),i={visitId:r,page:t.page,article:t.article};e.post(n,i)}},p=function(){var t=i.statsUrl;e.get(t,{bookId:i.id})};return{init:a,newVisit:l,articleView:f}}),define("shared/samlAuthToken",["events","shared/storage"],function(e,t){var n=!1,i="",r=function(e){if(!n){var t=e.data.settings;i=t.id,n=!0}};return{init:function(){e.subscribe(e.ALL,e.YUDU_BOOK_LOADED,r)},setup:r,storeToken:function(e){n&&t.setItem("bookId-"+i+"-samlAuthTokenKey",e)},getToken:function(){return n?t.getItem("bookId-"+i+"-samlAuthTokenKey")||null:null},removeToken:function(){n&&t.removeItem("bookId-"+i+"-samlAuthTokenKey")}}}),define("shared/login",["jquery","shared/hammerManager","shared/resources","shared/config","shared/localisation","shared/constants","shared/events","shared/rememberMeToken","shared/utils/urlUtils","shared/utils/tools","shared/storage","shared/samlAuthToken","shared/utils/utils"],function(e,t,n,i,r,o,s,a,u,c,l,d,f){var p=this;p.loginUI=null;var h={INVALID_CREDENTIALS:"invalidCredentials",SERVER_ERROR:"serverError",DATE_RESTRICTION_FAILURE:"dateRestrictionFailure"},g=r.get("saml.genericError"),m=r.get("saml.noResponse"),v=!1,y=!1,b=!1,w=!1,T=!1,x=!1,E={},A=function(){if(!v){var e=n.yuduBook.settings;b=e.authenticationUrl,i.isPreviewEdition=e.preview,v=!0}},k=function(){return b},S=function(e,t){p.loginUI.response.text(r.get(e)),t?(p.loginUI.response.removeClass(o.messageTypes.success),p.loginUI.response.addClass(o.messageTypes.failure)):(p.loginUI.response.removeClass(o.messageTypes.failure),p.loginUI.response.addClass(o.messageTypes.success)),p.loginUI.response.show()},L=function(e,o){p.loginUI=e,A(),t.createTapManager(p.loginUI.subscribe[0]).on("tap",function(){q(o)}),t.createTapManager(p.loginUI.resetPassword[0]).on("tap",j),s.yuduOn(p.loginUI.background,"touchmove",z),s.yuduOn(p.loginUI.prompt,"touchmove",z),s.yuduOn(p.loginUI.usernameInput,i.clickAction,function(){p.loginUI.background.focus(),p.loginUI.usernameInput.focus()}),s.yuduOn(p.loginUI.passwordInput,i.clickAction,function(){p.loginUI.background.focus(),p.loginUI.passwordInput.focus()});var a=n.yuduBook.settings;a.useCustomLoginPrompts?(E.explanation=a.loginExplanation,E.username=a.loginUsername,E.password=a.loginPassword):!1===a.drmRequiresEmailAddress&&a.isLibraryBook?(E.explanation=r.get("login.libraryPasswordExplanation"),E.password=r.get("login.password")):a.isLibraryBook?(E.explanation=r.get("login.libraryExplanation"),E.username=r.get("login.username"),E.password=r.get("login.password")):(E.explanation=r.get("login.explanation"),E.username=r.get("login.username"),E.password=r.get("login.password")),a.subscribeButtonEnabled&&(E.subscribe=a.subscribeText,w=a.subscribeUrl),a.resetPasswordButtonEnabled&&(T=a.resetPasswordUrl),r.localiseHtml(p.loginUI.loginButtons)},C=function(){S("login.contactingServer",!1)},I=function(){if(x)return void(x=!1);y?p.loginUI.explanation.text(r.get("ugc.login.explanation")):p.loginUI.explanation.text(E.explanation),c.showHideElement(p.loginUI.usernameInput.attr("placeholder",E.username),!(!1===n.yuduBook.settings.drmRequiresEmailAddress)),p.loginUI.passwordInput.attr("placeholder",E.password),!1===n.yuduBook.settings.drmRequiresEmailAddress&&p.loginUI.passwordInput.addClass("noUsername"),c.showHideElement(p.loginUI.subscribe,!!w),w&&p.loginUI.subscribe.text(E.subscribe),c.showHideElement(p.loginUI.resetPassword,!!T&&!n.yuduBook.settings.isLibraryBook),p.loginUI.background.show(),p.loginUI.prompt.slideDown(),V(p.loginUI),setTimeout(function(){p.loginUI.usernameInput.focus()},0)},_=function(e){const t=f.getLeafOrUndefined(i.queryObject,"samlAuthToken"),n=d.getToken();null==n||e?t&&!e?D(t):O():D(n)},O=function(){var t=function(e){s.emit("sharedLogin",s.SAML_REQUEST_RECEIVED,this,e)};e.ajax({url:n.yuduBook.settings.generateSamlRequestUrl,type:"POST",dataType:"json",data:{nodeId:n.yuduBook.settings.id,preview:n.yuduBook.settings.preview,platform:"HTML_READER"},headers:{Accept:"application/json"},success:function(e){t(e.error?{error:e.error}:e.encodedSignedRequest?{encodedSignedRequest:e.encodedSignedRequest}:{error:g})},error:function(){t({error:m})}})},D=function(t){var i=function(e){s.emit("sharedLogin",s.SAML_AUTH_TOKEN_VALIDATION_RESPONSE_RECEIVED,this,e)},r=n.yuduBook.settings.handleSamlAuthTokenUrl+"/validate";e.ajax({url:r,type:"POST",dataType:"json",data:{samlAuthToken:t,nodeId:n.yuduBook.settings.id,preview:n.yuduBook.settings.preview,platform:"HTML_READER"},headers:{Accept:"application/json"},success:function(e){i(e.error?{error:e.error}:e.key?e:{error:g})},error:function(){i({error:m})}})},R=function(e){var t,i;t=document.createElement("form"),t.method="POST",t.action=n.yuduBook.settings.samlAuthenticationUrl,i=document.createElement("input"),i.type="hidden",i.name="SAMLRequest",i.value=e,t.appendChild(i),document.body.appendChild(t),t.submit()},N=function(e,t){p.loginUI.samlExplanation.text(r.get("saml.explanation")+e),s.yuduOn(p.loginUI.samlButton,i.clickAction,t),p.loginUI.samlRetryPrompt.slideDown()},M=function(e,t){var n=h[e],i=r.get("samlLogin."+n);t&&(i=i+"\n\n"+r.get("samlLogin.extraInformationMessage")+t),N(i,P),d.removeToken()},P=function(){_(!0)},B=function(e){N(e,P),d.removeToken()},U=function(t,n,i,r){e.ajax({url:n,type:"POST",dataType:"json",data:t,success:i,error:r})},j=function(){S("login.reset.contactingServer",!1);var t={nodeId:n.yuduBook.settings.id,emailAddress:p.loginUI.usernameInput.val()};e.ajax({url:T,type:"POST",dataType:"json",data:t,success:s.callback(this,function(e){e.success?void 0!=e.url?(p.loginUI.response.hide(),u.openURL(e.url,!0)):S("login.reset.sent",!1):S("login.reset.errors."+e.error,!0)}),error:function(){S("login.reset.genericError",!0)}})},q=function(e){e&&e.action({actionType:e.events.subscribed,extraInfo:w}),u.openURL(w,"_self",!0)},F=function(e,t){var n=H(t);return n.readerUid=e.readerUid,n.emailAddress=e.username,n.password=e.password,n},H=function(e){var t={bookId:n.yuduBook.settings.id,preview:i.isPreviewEdition,libraryCookie:e?W():""};return y&&(t.ignoreMissingKey=!0,y=!1),t},W=function(){for(var e=decodeURIComponent(document.cookie),t=e.split(";"),n=0;n<t.length;n++){for(var i=t[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf("library_session="))return encodeURIComponent(i.substring("library_session=".length))}return""},z=function(e){return e.preventDefault(),!1},V=function(){s.isSubscribed(s.ALL,s.RESIZE,V,!1)||s.subscribe(s.ALL,s.RESIZE,V,!1);var e=Math.max(p.loginUI.resetPassword.children("div").height(),p.loginUI.loginSend.children("div").height())+"px";p.loginUI.resetPassword.height(e),p.loginUI.loginSend.height(e)},G=function(){return X.newCredentials(c.getUniqueUserId(),p.loginUI.usernameInput.val(),p.loginUI.passwordInput.val()),X.getCredentials()},X=function(){var e=!1,t=!1,n=!1,i=!1,r=!1,o=!1,u=!1,c=!1,l=!1,d=!1,f=function(){s.subscribe(s.ALL,s.CHANGE_FOR_LOGIN_DETAILS,s.callback(this,p)),s.subscribe(s.ALL,s.REQUEST_LOGIN_DETAILS,s.callback(this,h))},p=function(e){if(e&&e.data&&e.data.superLoginSuccess){var t=e.data.subscriberId||!1;m(e.data.tokenKey,e.data.tokenId,e.data.subscriberEmail,t,e.data.deviceId,e.data.username,e.data.password),s.emit("sharedLogin",s.LOGIN_DETAILS_CHANGED,this,{credentials:v()})}},h=function(){y()&&s.emit("sharedLogin",s.LOGIN_DETAILS_CHANGED,this,{credentials:v()})},g=function(o,s,a){t=!1,n=o,i=s,r=a,l=!1,e=i.length>0&&r.length>0},m=function(s,a,d,f,p,h,g){t=!0,o=s,u=a,c=d,l=f,n=p,i=h,r=g,e=i.length>0&&r.length>0||c.length>0&&o&&u},v=function(e){var t={readerUid:n,username:i,password:r};return b()&&(t.tokenKey=o,t.tokenId=u,t.subscriberEmail=c),a.hasTokenDetails()&&(t.rememberMeTokenKey=a.hasTokenDetails().key),e&&(t.ssoSubscriberId=d),t},y=function(){return e},b=function(){return t};return{registerListeners:f,newCredentials:g,getHasCredentials:y,getCredentialsAreFromSuper:b,getCredentials:v,getUsername:function(){return y()&&i?i:""},getSubscriberId:function(){return l},setSubscriberId:function(e){l=e},getSsoSubscriberId:function(){return d},setSsoSubscriberId:function(e){d=e}}}(),K=function(){var e={noTokenAvailable:"noTokenAvailable",queryString:"queryString",localStorage:"localStorage"},t=e.noTokenAvailable,r=!1,o=!1,a=!1,u=!1,d=!1,f=!1,p=function(){return r||(A(),o=n.yuduBook.settings.id,h()?t=e.queryString:m()&&(t=e.localStorage),r=!0),!0},h=function(){var e=i.getFromQuery("yuduAuthToken");if(e){u=e,a=i.getFromQuery("yuduAuthId");var t=i.getFromQuery("ugcKey");return t&&(d=t),!0}return!1},g=function(){u&&(l.setItem(o+"-yuduAuthToken",u),l.setItem(o+"-yuduAuthId",a),d&&l.setItem(o+"-ugcKey",d))},m=function(){var e=l.getItem(o+"-yuduAuthToken");if(e){u=e,a=l.getItem(o+"-yuduAuthId");var t=l.getItem(o+"-ugcKey");return t&&(d=t),!0}return!1},v=function(){l.removeItem(o+"-yuduAuthToken",u),l.removeItem(o+"-yuduAuthId",a),l.removeItem(o+"-ugcKey")},y=function(e,t){f=!e&&e,t(b())},b=function(){var e=H();return e.readerUid=c.getUniqueUserId(),e.tokenId=a,e.tokenValue=u,d&&(e.ugcKey=d),e.tokenLoginRequest=!0,e};return{isSetup:p,hasTokenDetails:function(){return!!u},tokenLogin:y,handleSuccess:function(e){if(f=!1,e.authToken){var t=e.authToken.ssoToken,n=e.authToken.uid;!0===e.authToken.internalUse&&t&&(u=t,a=n,g())}},handleFailure:function(){a=!1,u=!1,d=!1,t===e.localStorage&&v();var n=f||{};s.emit("*",s.SHOW_LOGIN,this,n),f=!1}}}();return{setupCore:A,setupUi:L,login:C,show:I,attemptSamlLogin:_,showSamlLogin:R,onSamlError:B,showSamlLoginFailure:N,onSamlAuthFailure:M,sendAjaxLoginRequest:U,displayMessage:S,getAuthenticationUrl:k,stopPropagation:z,setButtonSize:V,getLoginData:F,getCoreLoginData:H,getLibrarySessionCookieData:W,saveCurrentCredentials:G,lastUsedCredentials:X,sso:K,subscribeUrl:w,resetPasswordUrl:T,nextLoginForUgc:y,attemptLibraryCookieLogin:!0,logout:function(){a.resetTokenDetails()}}}),define("login",["jquery","rememberMeToken","events","resources","config","shared/hammerManager","shared/utils/appWrapHook","shared/utils/utils","shared/login","shared/localisation","shared/samlAuthToken"],function(e,t,n,i,r,o,s,a,u,c,l){var d=!1,f=!1,p={background:e("#yudu_loginBackground"),prompt:e("#yudu_loginPrompt"),explanation:e("#yudu_loginExplanation"),usernameInput:e("#yudu_username"),passwordInput:e("#yudu_password"),response:e("#yudu_loginResponse"),form:e("#yudu_loginForm"),subscribe:e("#yudu_loginSubscribe"),loginButtons:e("#yudu_loginButtons"),resetPassword:e("#yudu_resetPassword"),loginSend:e("#yudu_loginSend"),samlRetryPrompt:e("#yudu_samlRetryPrompt"),samlExplanation:e("#yudu_failedSamlLoginExplanation"),samlButton:e("#yudu_samlRetry")},h=function(){t.init(),l.init(),u.lastUsedCredentials.registerListeners(),n.subscribe(n.ALL,n.SHOW_LOGIN,n.callback(this,A)),n.subscribe(n.ALL,n.NEEDS_BACKGROUND_LOGIN_ATTEMPT,n.callback(this,E),!0),n.subscribe(n.ALL,n.TAP,y,!1),n.subscribe(n.ALL,n.OPEN_TOGGLABLE,function(e){e&&"login"==e.emitterName||y()},!1),n.subscribe(n.ALL,n.SAML_REQUEST_RECEIVED,n.callback(this,k)),n.subscribe(n.ALL,n.SAML_AUTH_TOKEN_VALIDATION_RESPONSE_RECEIVED,n.callback(this,S)),c.localiseHtml(p.samlRetryPrompt)},g=function(){d=!0,u.setupUi(p,null),p.form.submit(n.callback(this,function(t){return e("input").blur(),m(),u.stopPropagation(t)})),o.createTapManager(p.background[0]).on("tap",y)},m=function(){u.login(),b(u.getLoginData(u.saveCurrentCredentials()))},v=function(){n.emit("login",n.OPEN_TOGGLABLE,null,{}),n.subscribe(n.ALL,n.CLOSE_ACTIVE,C),u.show()},y=function(){n.unsubscribe(n.ALL,n.CLOSE_ACTIVE,C,!1),p.background.hide(),p.prompt.hide(),p.response.hide()},b=function(e){u.sendAjaxLoginRequest(e,u.getAuthenticationUrl(),T,function(){u.attemptLibraryCookieLogin?(u.attemptLibraryCookieLogin=!1,v()):u.displayMessage("login.auth.genericError",!0)})},w=function(e){e.tokenLoginResponse?u.sso.handleFailure():e.shortLifeRememberMeTokenResponse?t.handleLoginFailure():u.attemptLibraryCookieLogin?(u.attemptLibraryCookieLogin=!1,v()):u.displayMessage("login.auth.errors."+e.error,!0)},T=function(e){if(!e.success)return f=!1,w(e),void(r.isLoggedIn=!1);r.isLoggedIn=!0,e.authDetails&&(e.authDetails.rememberMeTokens&&t.storeTokenDetails(e.authDetails.rememberMeTokens),e.authDetails.ssoSubscriber&&(u.lastUsedCredentials.setSsoSubscriberId(e.authDetails.ssoSubscriber.subscriberId),n.emit("login",n.LOGIN_DETAILS_CHANGED,this,{credentials:u.lastUsedCredentials.getCredentials(!0)}))),e.key?x(e):n.emit("login",n.LOGIN_DETAILS_CHANGED,this,{credentials:u.lastUsedCredentials.getCredentials()}),e.tokenLoginResponse&&u.sso.handleSuccess(e),y()},x=function(e){r.decryptionKey=e.key,e.contentDecryptionKey&&(r.contentDecryptionHeaders={"x-amz-server-side-encryption-customer-algorithm":"AES256","x-amz-server-side-encryption-customer-key":e.contentDecryptionKey,"x-amz-server-side-encryption-customer-key-MD5":encryptedResourceFetchingUtils.getBase64MD5DigestOfBase64Message(e.contentDecryptionKey)}),n.emit("login",n.LOGIN_SUCCESS,this,{credentials:u.lastUsedCredentials.getCredentials()})},E=a.debounce(function(e){return u.sso.isSetup()&&u.sso.hasTokenDetails()?(u.sso.tokenLogin(e,b),!0):u.attemptLibraryCookieLogin&&""!=u.getLibrarySessionCookieData()?(b(u.getLoginData(u.saveCurrentCredentials(),!0)),!0):!(!t.hasTokenDetails()||0!=f)&&(f=!0,b(t.addTokenData(u.getCoreLoginData())),!0)},300,!0,!1),A=function(e){d||g();var t=a.getLeafOrUndefined(i.yuduBook,"settings","phoneviewFolderPathEncrypted"),n=t.isEnc&&!r.decryptionKey;if(!E()&&n){if(i.yuduBook.settings.samlAuthenticationEnabled){if(a.getLeafOrUndefined(r.queryObject,"samlAuthFailure")){const o=a.getLeafOrUndefined("samlErrorCode"),c=a.getLeafOrUndefined("samlErrorData");return void u.onSamlAuthFailure(o,c)}return void u.attemptSamlLogin()}(e.data&&e.data.noSuper||!s.trySuperLogin())&&(u.attemptLibraryCookieLogin=!1,v())}},k=function(e){e.data.error?u.onSamlError(e.data.error):L(e.data.encodedSignedRequest)},S=function(e){e.data.error?u.onSamlError(e.data.error):(l.storeToken(e.data.samlAuthToken),x(e.data))},L=function(e){n.subscribe(n.ALL,n.CLOSE_ACTIVE,C),u.showSamlLogin(e)},C=n.callback(this,y);return{init:h}}),define("articleViewer",["bowser","comms","config","constants","events","contentFrameManager","interactions","loading","shared/ui/messageBox","rememberMeToken","resources","shared/device","shared/utils/queryStringUtils","shared/utils/utils","sharing","textSize","toc","toolbar","utils/resizeHelper","viewRedirect","shared/commonFunctionsApi","commonFunctionsApiExtensions","utils/stats/yuduReporting","jquery","shared/utils/tools","login","shared/login","shared/utils/urlUtils"],function(e,t,n,i,r,o,s,a,u,c,l,d,f,p,h,g,m,v,y,b,w,T,x,E,A,k,S,L){return new function(){var C=this,I=!1,_=!1,O=E("#frameEnvelope"),D=!1,R=!1,N=!0,M=!1,P={page:"page",article:"article"},B=function(){return new function(){var e={};e.page=!1,e.pageIndex=-1,e.articleIndex=-1,e.pageArticles=!1,e.pageArticlesCount=-1,e.snapshot=function(){var t=e.slimSnapshot();return t.pageArticles=e.pageArticles,t.pageArticlesCount=e.pageArticlesCount,t},e.slimSnapshot=function(){var t={};return t.page=e.page,t.pageIndex=e.pageIndex,t.article=e.pageArticles[e.articleIndex],t.articleIndex=e.articleIndex,t},e.restoreFrom=function(t){e.page=t.page,e.pageIndex=t.pageIndex,e.articleIndex=t.articleIndex,e.pageArticles=t.pageArticles,e.pageArticlesCount=t.pageArticlesCount},e.load=function(i){var r=i.mode?i.mode:P.page,s=!1;return r===P.article&&(s=n(i)),s||(s=t(i)),!!s&&(o(s)?(e.restoreFrom(s),J(),!0):X(s.pageIndex,U.forwards,!0))};var t=function(e){if(!r(e.page))return!1;var t={};return t.page=e.page,t.pageIndex=ie.numberToIndex(e.page),t.pageArticles=p.getLeafOrUndefined(l.pageToArticles,e.page),t.pageArticlesCount=p.getLeafOrUndefined(t.pageArticles,"length"),void 0!==e.article?t.articleIndex=t.pageArticles.indexOf(re(e.article)):i(e.articleIndex)&&e.articleIndex<t.pageArticlesCount?t.articleIndex=parseInt(e.articleIndex):t.articleIndex=0,t},n=function(e){var t={};if(void 0!==e.article){var n=p.getLeafOrUndefined(l.articleToPages,e.article);if(!n)return!1;var o;o=r(e.page)?n.indexOf(B.page):-1,t.page=o<0?n[0]:B.page,t.pageArticles=p.getLeafOrUndefined(l.pageToArticles,t.page),t.articleIndex=t.pageArticles.indexOf(re(e.article))}else{if(!i(e.articleIndex))return!1;if(!r(e.page))return!1;t.page=e.page,t.pageArticles=p.getLeafOrUndefined(l.pageToArticles,e.page),t.articleIndex=parseInt(e.articleIndex)}return t.pageIndex=ie.numberToIndex(e.page),t.pageArticlesCount=p.getLeafOrUndefined(t.pageArticles,"length"),t},i=function(e){return void 0!==e&&E.isNumeric(e)},r=function(e){return E.isNumeric(e)&&e>0&&e<=R},o=function(e){return void 0!==e.pageIndex&&(void 0!==e.pageArticlesCount&&(void 0!==e.articleIndex&&(!(e.pageIndex<0)&&(!(e.pageIndex>=R)&&(!(e.pageArticlesCount<1)&&(!(e.articleIndex<0)&&!(e.articleIndex>=e.pageArticlesCount)))))))};return e}}(),U={forwards:"forwards",backwards:"backwards"};C.preinit=function(){s.preinit();var t=o.createFrame(O);D=E(t),t.id=i.articleFrameId,g.update(),s.addEventListenersOnArticleFrame(),d.setupLibraries(e),d.startDeviceDetectionAsyncChecks(),n.setIsDesktop(!d.mayBeTouchCapable())},C.init=function(){C.preinit(),E(window).resize(function(){r.emit(r.ALL,r.RESIZE,this,{height:screen.height,width:screen.width})}),r.subscribe(r.ALL,r.CRITICAL_ERROR,C.error,!1),r.subscribe(r.ALL,r.YUDU_BOOK_LOADED,H,!1),r.subscribe(r.ALL,r.LOADING_ACTIONS_DONE,W,!1),r.subscribe(r.ALL,r.NEXT_ARTICLE,C.nextArticle,!1),r.subscribe(r.ALL,r.PREVIOUS_ARTICLE,C.previousArticle,!1),r.subscribe(r.ALL,r.RETURN_TO_READER,C.exitArticleView,!1),r.subscribe(r.ALL,r.OPEN_ARTICLE,$,!1),r.subscribe(r.ALL,r.SCROLL_TO_ANCHOR,Y,!1),r.subscribe(r.ALL,r.SHARE,C.shareArticle,!1),r.subscribe(r.ALL,r.OPEN_TOGGLABLE,te,!1),r.subscribe(r.ALL,r.LOGIN_SUCCESS,V,!1),r.subscribe(r.ALL,r.LOGOUT,se,!1),n.queryObject=f.parseQueryString(window.location.search.substr(1)),h.bindEvents(),b.init(),w.init(),T.init(),k.init(),r.emit(r.ALL,r.RESIZE,this,{height:screen.height,width:screen.width}),a.runLoadingActions(i.yuduBook),t.init(),g.init(),y.init(),s.init(),c.init(),window.onpopstate=C.popPageHistory,C.postInit()},C.postInit=function(){n.isDesktop?E(document.body).addClass("desktop"):E(document.body).addClass("mobile")};var j=function(){v.init(),m.init(),x.init()},q=function(){v.loadBrandableComponents(),h.init(),u.init()},F=function(){var e=O.find("title");e.length>0&&(document.title=e.html())};C.error=function(){t.returnToEdition({phoneviewCriticalError:"error49"})};var H=function(){I=p.getLeafOrUndefined(l.yuduBook,"settings","phoneview"),_=p.getLeafOrUndefined(l.yuduBook,"settings","phoneviewFolderPath"),j()},W=function(){r.unsubscribe(r.ALL,r.LOADING_ACTIONS_DONE,W,!1),q();var e=p.getLeafOrUndefined(l.yuduBook,"settings","phoneviewFolderPath");n.articlesDirectory=p.getLeafOrUndefined(e,"articlesDirectory"),C.drmIsActive()&&z(),G()},z=function(){var e=n.getFromQuery("key");e&&(n.decryptionKey=e,r.emit("articleViewer",r.LOGIN_SUCCESS,this))},V=function(){var e=p.getLeafOrUndefined(l.yuduBook,"settings","phoneviewFolderPathEncrypted"),t=A.decryptJson(e,n.decryptionKey);n.articlesDirectoryEncrypted=t.articlesDirectoryEncrypted,G()},G=function(){R=p.getLeafOrUndefined(l.yuduBook,"pages","length");var e=f.parseQueryString(window.location.search.substr(1)),t={page:""+ie.indexToNumber(C.startPage()),pageIndex:C.startPage(),articleIndex:p.getLeafOrUndefined(e,"articleIndex"),article:p.getLeafOrUndefined(e,"article"),mode:p.getLeafOrUndefined(e,"mode")};B.load(t)||C.error();var n={page:B.page,article:B.pageArticles[B.articleIndex]};x.newVisit(n)};C.startPage=function(){var e=!1,t=function(){var t=p.getLeafOrUndefined(n.queryObject,"page");if(E.isNumeric(t))e=ie.numberToIndex(t);else{var i=p.getLeafOrUndefined(l.yuduBook,"settings","defaultStartPage");e=E.isNumeric(i)?i:0}return e};return function(){return!1===e?t():e}}();var X=function(e,t,n){var i=K(e,t,n);return i&&J(),i},K=function(e,t,n){U[t]||(t=U.forwards);for(var i=n?0:1,r=i;r<R;r++){var o=e+(t===U.backwards?-1*r:r),s=(o%R+R)%R,a=""+ie.indexToNumber(s),u=p.getLeafOrUndefined(l.pageToArticles,a);if(p.getLeafOrUndefined(u,"length"))return B.pageIndex=s,B.page=a,B.pageArticles=u,B.pageArticlesCount=u.length,B.articleIndex=t===U.backwards?B.pageArticlesCount-1:0,!0}return!1};C.nextArticle=function(){if(!(B.pageIndex<0))return B.articleIndex<B.pageArticlesCount-1?(B.articleIndex++,void J()):void(!X(B.pageIndex,U.forwards,!1)&&B.pageArticlesCount>1&&(B.articleIndex=0,J()))},C.previousArticle=function(){if(!(B.pageIndex<0))return B.articleIndex>0?(B.articleIndex--,void J()):void(!X(B.pageIndex,U.backwards,!1)&&B.pageArticlesCount>1&&(B.articleIndex=B.pageArticles.length-1,J()))},C.jumpToPage=function(e){if(!(B.pageIndex<0)&&e.page&&E.isNumeric(e.page)){var t=ie.numberToIndex(B.page);X(t,U.forwards,!0)}};var $=function(e){var t=p.getLeafOrUndefined(e,"data","article");t&&C.jumpToArticle(t)};C.jumpToArticle=function(e){var t=B.snapshot(),n=re(e),i=p.getLeafOrUndefined(l.articleToPages,n);p.getLeafOrUndefined(i,"length")&&(B.page=i[0],B.pageIndex=ie.numberToIndex(B.page),B.pageArticles=p.getLeafOrUndefined(l.pageToArticles,B.page),B.pageArticlesCount=B.pageArticles.length,B.articleIndex=B.pageArticles.indexOf(n),B.articleIndex<0||B.pageArticles[B.articleIndex]!==n?B.restoreFrom(t):C.openArticle(n))};var Y=function(e){e&&e.data&&e.data.target&&Q(e.data.target)},Q=function(e){var t=E("a[name='"+e+"']");t.length>0&&t[0].scrollIntoView&&t[0].scrollIntoView()},J=function(){C.openArticle(B.pageArticles[B.articleIndex])};C.openArticle=function(e){r.emit(r.ALL,r.OPEN_TOGGLABLE,null,{});var t=B.page,o=B.pageArticles[B.articleIndex];n.currentPage=t,n.currentArticle=o;const s={page:t,article:o};x.articleView(s),M?M=!1:oe();var a=null!=n.articlesDirectoryEncrypted&&""!=n.articlesDirectoryEncrypted;if(C.drmIsActive()&&!ne(B)&&!a)return C.openInArticleFrame(p.combinePaths(i.baseResourcesFolder,i.noAccessArticleFile)),void r.emit(r.ALL,r.SHOW_LOGIN,this,{});var u=n.articlesDirectoryEncrypted||n.articlesDirectory;C.openInArticleFrame(p.combinePaths(i.localToReaderRootPath,u,e))},C.drmIsActive=function(){var e=p.getLeafOrUndefined(l.yuduBook,"settings","phoneviewFolderPathEncrypted");return e&&e.isEnc},C.openInArticleFrame=function(e){E.ajax({url:e,dataType:"html",success:function(e){var t=O.parent();O.hide(),O.remove(),O.html(e);var n=[{selector:"*[href]",attribute:"href"},{selector:"*[src]",attribute:"src"}];E.each(n,function(e,t){O.find(t.selector).each(function(e,n){var i=E(n),r=i.attr(t.attribute),o=p.getLeafOrUndefined(l.articleToPages,re(r)),s="#"==r[0];p.getLeafOrUndefined(o,"length")||s?(i.attr(t.attribute,ee(r)),i.attr("target","_self")):i.attr(t.attribute,Z(r))})}),F(),t.append(O),
setTimeout(function(){O.show()},100)}})};var Z=function(e){if(e.includes("://")||e.startsWith("mailto:")||e.startsWith("tel:"))return e;var t=window.location.href;t=t.substring(0,t.indexOf("index.html"));var i=t+"articles/"+e;return n.articlesDirectoryEncrypted&&i.indexOf(n.articlesDirectory)&&(i=i.replace(n.articlesDirectory,n.articlesDirectoryEncrypted)),i},ee=function(e){return"#"==e[0]?"javascript:window.yudu_commonFunctions.scrollToAnchor('"+e.substring(1)+"');":"javascript:window.yudu_commonFunctions.goToArticle('"+e+"');"};C.shareArticle=function(){"function"==typeof toggleShareAction&&(r.emit(r.ALL,r.OPEN_TOGGLABLE,C,{}),toggleShareAction())};var te=function(e){e&&e.target===m||m.toggle(!1),e&&e.target===C||"function"==typeof toggleShareAction&&toggleShareAction(!1)},ne=function(e){var t=p.getLeafOrUndefined(l.yuduBook,"settings","freeArticlesAtStart")||0,n=p.getLeafOrUndefined(l.yuduBook,"settings","freeArticlesAtEnd")||0;if(!t&&!n)return!1;var i=e.pageArticles[e.articleIndex],r=0,o=!1;for(var s in l.pageToArticles){for(var a=l.pageToArticles[s],u=0;u<a.length;++u){if(a[u]==i){o=!0;break}++r}if(o)break}return!!(o&&t&&r<t)||!!(o&&n&&r>=Object.keys(l.articleToPages).length-n)},ie=function(){var e={};return e.numberToIndex=function(e){var t=parseInt(e);return t<1||isNaN(t)?0:t>R?R-1:t-1},e.indexToNumber=function(e){return""+(e<0?1:e>=R?R:e+1)},e}(),re=function(e){return"/"!==e.substr(0,1)&&(e="/"+e),e},oe=function(){if(document.location.pathname&&history&&history.pushState){var e=document.location.pathname.match(/[^\/]+$/);if(e&&0!=e.length){var t={origin:n.queryObject.origin||"article",page:B.page,article:B.pageArticles[B.articleIndex]},i=f.addToUrlQueryString(e[0],t);N?(history.replaceState(t,document.title,i),N=!1):history.pushState(t,document.title,i)}}};C.popPageHistory=function(e){var t={},n=!1,i=p.getLeafOrUndefined(e,"state","page"),r=p.getLeafOrUndefined(e,"state","article");void 0!==i&&(t.page=i,n=!0),void 0!==r&&(t.article=r,n=!0),n?(M=!0,B.load(t,!0)):location.reload()},C.exitArticleView=function(){t.returnToEdition(B.slimSnapshot())};var se=function(){l.yuduBook.settings.logoutButtonEnabled&&!A.isThisAnApp()&&n.isDesktop&&(S.logout(),X(0,U.forwards,!0),L.openURL(new URL(location.href)))}}}),require.config({baseUrl:"src",map:{"*":{jquery:"jquery-private"},"jquery-private":{jquery:"jquery"}},shim:{hammer:{exports:"Hammer"},crypto:{exports:"CryptoJS"}},paths:{has:"../../lib/has",jquery:"../../lib/jquery-3.4.1.min",hammer:"../../lib/hammer-2.0.8.min",bowser:"../../lib/bowser.min",shared:"../../shared",crypto:"../../lib/aes"}}),require(["articleViewer","jquery"],function(e,t){t(document).ready(function(){window.$=t,console=console||{log:function(){}},e.init()})}),define("../app",function(){});